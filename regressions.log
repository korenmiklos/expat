
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      18.0
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-STATA-PC        https://www.stata.com
                                   979-696-4600        stata@stata.com

Stata license: Single-user 2-core  perpetual
Serial number: 501806323834
  Licensed to: Miklós Koren
               Central European University

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do code/estimate/regressions.do 

. here
/Users/koren/Tresorit/Mac2Mac/projects/expat/

. global here = r(here)

. use "$here/temp/analysis_sample.dta", clear

. 
. *Samples
. global local_sample "(ever_local==1 | foreign==0)"

. global expat_sample "(ever_expat==1 | foreign==0)"

. 
. global varlist_rhs "lnK lnL TFP lnQ lnEx lnQd"

. 
. ****Average effect, foreign_hire sample, local and expat separately, xthdidre
> g
. 
. 
. *Full sample
. foreach Y in $varlist_rhs {
  2. 
.     display "`Y'"
  3. 
.     eststo clear
  4.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample, group(fra
> me_id_numeric) vce(cluster frame_id_numeric) controlgroup(notyet)
  5.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  6. 
.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample, group(fr
> ame_id_numeric) vce(cluster frame_id_numeric) controlgroup(notyet)
  7.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  8. 
.     eststo: quietly xt2treatments `Y',  treatment(has_expat_ceo) control(loca
> l_ceo) pre(4) post(4) baseline(atet)
  9. 
.     display "Full sample"
 10.     esttab, b(3) se  style(tex)
 11. 
. }
lnK
(est1 stored)
(est2 stored)
(est3 stored)
Full sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnK             lnK             lnK   \\
------------------------------------------------------------
ATET                0.176           0.279*          0.117   \\
                  (0.100)         (0.126)         (0.140)   \\
------------------------------------------------------------
N                    5243            4533            6146   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnL
(est1 stored)
(est2 stored)
(est3 stored)
Full sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnL             lnL             lnL   \\
------------------------------------------------------------
ATET                0.177           0.630***        0.471***\\
                  (0.093)         (0.126)         (0.131)   \\
------------------------------------------------------------
N                    5243            4533            6146   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
TFP
(est1 stored)
(est2 stored)
(est3 stored)
Full sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      TFP             TFP             TFP   \\
------------------------------------------------------------
ATET                0.021           0.084           0.067   \\
                  (0.039)         (0.056)         (0.051)   \\
------------------------------------------------------------
N                    5243            4533            6146   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQ
(est1 stored)
(est2 stored)
(est3 stored)
Full sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnQ             lnQ             lnQ   \\
------------------------------------------------------------
ATET                0.351***        0.821***        0.490** \\
                  (0.095)         (0.144)         (0.149)   \\
------------------------------------------------------------
N                    5243            4533            6146   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnEx
(est1 stored)
(est2 stored)
(est3 stored)
Full sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                     lnEx            lnEx            lnEx   \\
------------------------------------------------------------
ATET                0.887***        0.690***        0.125   \\
                  (0.194)         (0.207)         (0.221)   \\
------------------------------------------------------------
N                    2523            2266            2837   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQd
(est1 stored)
(est2 stored)
(est3 stored)
Full sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                     lnQd            lnQd            lnQd   \\
------------------------------------------------------------
ATET                0.246*          0.607***        0.343*  \\
                  (0.102)         (0.163)         (0.170)   \\
------------------------------------------------------------
N                    5193            4456            6045   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. 
. *Industrial sample
. preserve

. keep if industrial==1
(3,935 observations deleted)

. foreach Y in $varlist_rhs {
  2.     display "`Y'"
  3. 
.     eststo clear
  4.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample & industri
> al==1, group(frame_id_numeric) vce(cluster frame_id_numeric) controlgroup(not
> yet)
  5.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  6.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample & indu
> strial==1, group(frame_id_numeric) vce(cluster frame_id_numeric) controlgroup
> (notyet)
  7.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  8. 
.     eststo: quietly xt2treatments `Y',  treatment(has_expat_ceo) control(loca
> l_ceo) pre(4) post(4) baseline(atet)
  9. 
.     display "Industry sample"
 10.     esttab, b(3) se  style(tex)
 11. }
lnK
(est1 stored)
(est2 stored)
(est3 stored)
Industry sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnK             lnK             lnK   \\
------------------------------------------------------------
ATET                0.315*          0.254          -0.068   \\
                  (0.139)         (0.188)         (0.194)   \\
------------------------------------------------------------
N                    2263            2061            2774   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnL
(est1 stored)
(est2 stored)
(est3 stored)
Industry sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnL             lnL             lnL   \\
------------------------------------------------------------
ATET                0.278           0.582***        0.456*  \\
                  (0.149)         (0.168)         (0.184)   \\
------------------------------------------------------------
N                    2263            2061            2774   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
TFP
(est1 stored)
(est2 stored)
(est3 stored)
Industry sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      TFP             TFP             TFP   \\
------------------------------------------------------------
ATET               -0.064           0.016           0.110*  \\
                  (0.068)         (0.069)         (0.050)   \\
------------------------------------------------------------
N                    2263            2061            2774   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQ
(est1 stored)
(est2 stored)
(est3 stored)
Industry sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnQ             lnQ             lnQ   \\
------------------------------------------------------------
ATET                0.395*          0.778***        0.539** \\
                  (0.160)         (0.181)         (0.174)   \\
------------------------------------------------------------
N                    2263            2061            2774   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnEx
(est1 stored)
(est2 stored)
(est3 stored)
Industry sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                     lnEx            lnEx            lnEx   \\
------------------------------------------------------------
ATET                0.762**         0.781***        0.270   \\
                  (0.268)         (0.230)         (0.283)   \\
------------------------------------------------------------
N                    1492            1390            1756   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQd
(est1 stored)
(est2 stored)
(est3 stored)
Industry sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                     lnQd            lnQd            lnQd   \\
------------------------------------------------------------
ATET                0.190           0.547**         0.447*  \\
                  (0.165)         (0.212)         (0.210)   \\
------------------------------------------------------------
N                    2227            2013            2703   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. restore

. 
. *Service sample
. preserve

. keep if industrial==0
(3,148 observations deleted)

. foreach Y in $varlist_rhs {
  2. 
.     display "`Y'"
  3. 
.     eststo clear
  4.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample & industri
> al==0, group(frame_id_numeric) vce(cluster frame_id_numeric) controlgroup(not
> yet)
  5.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  6.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample & indu
> strial==0, group(frame_id_numeric) vce(cluster frame_id_numeric) controlgroup
> (notyet)
  7.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  8. 
.     eststo: quietly xt2treatments `Y',  treatment(has_expat_ceo) control(loca
> l_ceo) pre(4) post(4) baseline(atet)
  9. 
.     display "Service sample"
 10.     esttab, b(3) se style(tex)
 11. }
lnK
(est1 stored)
(est2 stored)
(est3 stored)
Service sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnK             lnK             lnK   \\
------------------------------------------------------------
ATET                0.034           0.310           0.322   \\
                  (0.134)         (0.166)         (0.205)   \\
------------------------------------------------------------
N                    2980            2472            3369   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnL
(est1 stored)
(est2 stored)
(est3 stored)
Service sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnL             lnL             lnL   \\
------------------------------------------------------------
ATET                0.095           0.733***        0.548** \\
                  (0.116)         (0.187)         (0.193)   \\
------------------------------------------------------------
N                    2980            2472            3369   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
TFP
(est1 stored)
(est2 stored)
(est3 stored)
Service sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      TFP             TFP             TFP   \\
------------------------------------------------------------
ATET                0.096*          0.138           0.053   \\
                  (0.041)         (0.087)         (0.091)   \\
------------------------------------------------------------
N                    2980            2472            3369   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQ
(est1 stored)
(est2 stored)
(est3 stored)
Service sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                      lnQ             lnQ             lnQ   \\
------------------------------------------------------------
ATET                0.289*          0.907***        0.526*  \\
                  (0.115)         (0.228)         (0.244)   \\
------------------------------------------------------------
N                    2980            2472            3369   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnEx
(est1 stored)
(est2 stored)
(est3 stored)
Service sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                     lnEx            lnEx            lnEx   \\
------------------------------------------------------------
ATET                1.038***        0.534          -0.196   \\
                  (0.253)         (0.361)         (0.376)   \\
------------------------------------------------------------
N                    1031             876            1047   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQd
(est1 stored)
(est2 stored)
(est3 stored)
Service sample

------------------------------------------------------------
                      (1)             (2)             (3)   \\
                     lnQd            lnQd            lnQd   \\
------------------------------------------------------------
ATET                0.236           0.733**         0.350   \\
                  (0.122)         (0.251)         (0.268)   \\
------------------------------------------------------------
N                    2966            2443            3339   \\
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. restore

. 
. *****Figures
. 
. *Whole sample
. foreach Y in $varlist_rhs {
  2. 
.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample, group(fr
> ame_id_numeric) vce(cluster frame_id_numeric) controlgroup(notyet)
  3.     eventbaseline, pre(4) post(4) baseline(-1) generate(event_expat)
  4. 
.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample, group(frame_
> id_numeric) vce(cluster frame_id_numeric) controlgroup(notyet)
  5.     eventbaseline, pre(4) post(4) baseline(-1) generate(event_local)
  6. 
.     frame event_expat: frlink 1:1 time, frame(event_local) generate(local)
  7.     frame event_expat: frget coef_local=coef upper_local=upper lower_local
> =lower, from(local)
  8. 
.     frame event_expat: graph twoway (rarea lower upper time, fcolor(red%10) l
> color(red%10)) (line coef time, color(red)) (rarea lower_local upper_local ti
> me, fcolor(gs10%10) lcolor(gs5%10)) (line coef_local time, color(grey)), grap
> hregion(color(white)) xlabel(-4(1)4) legend(off) xline(-0.5) xtitle("Event ti
> me") yline(0) 
  9. 
.     gr export "$here/output/twfe/expat_local_`Y'.pdf", replace
 10. 
. }

Time variable: time, -4 to 4
        Delta: 1 unit

Event study relative to -1               Number of obs = 4,533

------------------------------------------------------------------------------
         lnK |       ATET   Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
          -4 |   .1330533   .1093955     1.22   0.224     -.081358    .3474645
          -3 |    .127721   .0945061     1.35   0.177    -.0575077    .3129496
          -2 |   .1601621     .06313     2.54   0.011     .0364296    .2838946
          -1 |          0  (omitted)
           0 |   .1681737   .0651516     2.58   0.010     .0404789    .2958685
           1 |   .2631102   .0980993     2.68   0.007     .0708391    .4553813
           2 |   .3234506   .1181213     2.74   0.006      .091937    .5549642
           3 |   .5349282   .1442761     3.71   0.000     .2521522    .8177041
           4 |   .6335108   .1842589     3.44   0.001       .27237    .9946516
------------------------------------------------------------------------------

Time variable: time, -4 to 4
        Delta: 1 unit

Event study relative to -1               Number of obs = 5,243

------------------------------------------------------------------------------
         lnK |       ATET   Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
          -4 |  -.1298605    .086378    -1.50   0.133    -.2991583    .0394373
          -3 |  -.0296234   .0603007    -0.49   0.623    -.1478107    .0885639
          -2 |   .0080387   .0458506     0.18   0.861    -.0818269    .0979043
          -1 |          0  (omitted)
           0 |   .0946847   .0479808     1.97   0.048     .0006441    .1887253
           1 |   .0930849   .0744466     1.25   0.211    -.0528278    .2389976
           2 |   .0895376   .1109489     0.81   0.420    -.1279182    .3069935
           3 |   .1018417   .1257482     0.81   0.418    -.1446203    .3483036
           4 |   .3110019   .1619366     1.92   0.055    -.0063879    .6283918
------------------------------------------------------------------------------
(all observations in frame event_expat matched)
(3 variables copied from linked frame)
(note:  named style grey not found in class color, default attributes used)
(note:  named style grey not found in class color, default attributes used)
(note:  named style grey not found in class color, default attributes used)
(note:  named style grey not found in class color, default attributes used)
(note:  named style grey not found in class color, default attributes used)
file
    /Users/koren/Tresorit/Mac2Mac/projects/expat//output/twfe/expat_local_lnK
    > .pdf saved as PDF format

Time variable: time, -4 to 4
        Delta: 1 unit

Event study relative to -1               Number of obs = 4,533

------------------------------------------------------------------------------
         lnL |       ATET   Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
          -4 |   -.220694   .1193067    -1.85   0.064    -.4545309    .0131429
          -3 |  -.1413774   .0886156    -1.60   0.111    -.3150608    .0323061
          -2 |  -.1372478   .0746575    -1.84   0.066    -.2835739    .0090782
          -1 |          0  (omitted)
           0 |   .2412496   .0719673     3.35   0.001     .1001963    .3823029
           1 |    .373603   .1007027     3.71   0.000     .1762292    .5709767
           2 |   .5536792   .1196353     4.63   0.000     .3191983    .7881602
           3 |   .6141508   .1547113     3.97   0.000     .3109223    .9173793
           4 |    .743701   .1693643     4.39   0.000      .411753    1.075649
------------------------------------------------------------------------------
