
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      18.0
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-STATA-PC        https://www.stata.com
                                   979-696-4600        stata@stata.com

Stata license: Single-user 2-core  perpetual
Serial number: 501806323834
  Licensed to: Miklós Koren
               Central European University

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do code/estimate/regressions.do 

. here
/Users/koren/Tresorit/Mac2Mac/projects/expat/

. global here = r(here)

. use "$here/temp/analysis_sample.dta", clear

. 
. *Samples
. global local_sample "(ever_local==1 | foreign==0)"

. global expat_sample "(ever_expat==1 | foreign==0)"

. 
. global varlist_rhs "lnK lnL TFP lnQ lnEx lnQd"

. 
. ****Average effect, foreign_hire sample, local and expat separately, xthdidre
> g
. 
. 
. *Full sample
. foreach Y in $varlist_rhs {
  2. 
.     display "`Y'"
  3. 
.     eststo clear
  4.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample, group(fra
> me_id_numeric) vce(cluster frame_id_numeric) controlgroup(notyet)
  5. 
.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  6.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample, group
> (frame_id_numeric) vce(cluster frame_id_numeric) controlgroup(notyet)
  7. 
.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  8. 
.     display "Full sample"
  9.     esttab, b(3) se  style(tex)
 10. 
. }
lnK
(est1 stored)
(est2 stored)
Full sample

--------------------------------------------
                      (1)             (2)   \\
                      lnK             lnK   \\
--------------------------------------------
ATET                0.084           0.323** \\
                  (0.090)         (0.114)   \\
--------------------------------------------
N                    6211            5409   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnL
(est1 stored)
(est2 stored)
Full sample

--------------------------------------------
                      (1)             (2)   \\
                      lnL             lnL   \\
--------------------------------------------
ATET                0.136           0.514***\\
                  (0.085)         (0.112)   \\
--------------------------------------------
N                    6211            5409   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
TFP
(est1 stored)
(est2 stored)
Full sample

--------------------------------------------
                      (1)             (2)   \\
                      TFP             TFP   \\
--------------------------------------------
ATET                0.059           0.088   \\
                  (0.032)         (0.050)   \\
--------------------------------------------
N                    6211            5409   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQ
(est1 stored)
(est2 stored)
Full sample

--------------------------------------------
                      (1)             (2)   \\
                      lnQ             lnQ   \\
--------------------------------------------
ATET                0.299***        0.845***\\
                  (0.087)         (0.137)   \\
--------------------------------------------
N                    6211            5409   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnEx
(est1 stored)
(est2 stored)
Full sample

--------------------------------------------
                      (1)             (2)   \\
                     lnEx            lnEx   \\
--------------------------------------------
ATET                0.653***        0.887***\\
                  (0.174)         (0.204)   \\
--------------------------------------------
N                    3004            2723   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQd
(est1 stored)
(est2 stored)
Full sample

--------------------------------------------
                      (1)             (2)   \\
                     lnQd            lnQd   \\
--------------------------------------------
ATET                0.235*          0.565***\\
                  (0.092)         (0.148)   \\
--------------------------------------------
N                    6169            5313   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. 
. *Industrial sample
. foreach Y in $varlist_rhs {
  2.     display "`Y'"
  3. 
.     eststo clear
  4.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample & industri
> al==1, group(frame_id_numeric) vce(cluster frame_id_numeric) controlgroup(not
> yet)
  5.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  6.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample & indu
> strial==1, group(frame_id_numeric) vce(cluster frame_id_numeric) controlgroup
> (notyet)
  7.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  8. 
.     display "Industry sample"
  9.     esttab, b(3) se  style(tex)
 10. }
lnK
(est1 stored)
(est2 stored)
Industry sample

--------------------------------------------
                      (1)             (2)   \\
                      lnK             lnK   \\
--------------------------------------------
ATET                0.251*          0.341*  \\
                  (0.127)         (0.143)   \\
--------------------------------------------
N                    2858            2637   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnL
(est1 stored)
(est2 stored)
Industry sample

--------------------------------------------
                      (1)             (2)   \\
                      lnL             lnL   \\
--------------------------------------------
ATET                0.200           0.325*  \\
                  (0.142)         (0.144)   \\
--------------------------------------------
N                    2858            2637   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
TFP
(est1 stored)
(est2 stored)
Industry sample

--------------------------------------------
                      (1)             (2)   \\
                      TFP             TFP   \\
--------------------------------------------
ATET                0.075           0.066   \\
                  (0.052)         (0.061)   \\
--------------------------------------------
N                    2858            2637   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQ
(est1 stored)
(est2 stored)
Industry sample

--------------------------------------------
                      (1)             (2)   \\
                      lnQ             lnQ   \\
--------------------------------------------
ATET                0.434**         0.647***\\
                  (0.143)         (0.163)   \\
--------------------------------------------
N                    2858            2637   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnEx
(est1 stored)
(est2 stored)
Industry sample

--------------------------------------------
                      (1)             (2)   \\
                     lnEx            lnEx   \\
--------------------------------------------
ATET                0.573*          0.855***\\
                  (0.224)         (0.237)   \\
--------------------------------------------
N                    1839            1763   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQd
(est1 stored)
(est2 stored)
Industry sample

--------------------------------------------
                      (1)             (2)   \\
                     lnQd            lnQd   \\
--------------------------------------------
ATET                0.309*          0.327   \\
                  (0.149)         (0.183)   \\
--------------------------------------------
N                    2825            2576   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. 
. *Service sample
. foreach Y in $varlist_rhs {
  2. 
.     display "`Y'"
  3. 
.     eststo clear
  4.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample & industri
> al==0, group(frame_id_numeric) vce(cluster frame_id_numeric) controlgroup(not
> yet)
  5.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  6.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample & indu
> strial==0, group(frame_id_numeric) vce(cluster frame_id_numeric) controlgroup
> (notyet)
  7.     eststo: quietly eventbaseline, pre(4) post(4) baseline(atet)
  8. 
.     display "Service sample"
  9.     esttab, b(3) se style(tex)
 10. }
lnK
(est1 stored)
(est2 stored)
Service sample

--------------------------------------------
                      (1)             (2)   \\
                      lnK             lnK   \\
--------------------------------------------
ATET               -0.046           0.333   \\
                  (0.120)         (0.186)   \\
--------------------------------------------
N                    3353            2772   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnL
(est1 stored)
(est2 stored)
Service sample

--------------------------------------------
                      (1)             (2)   \\
                      lnL             lnL   \\
--------------------------------------------
ATET                0.098           0.821***\\
                  (0.103)         (0.175)   \\
--------------------------------------------
N                    3353            2772   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
TFP
(est1 stored)
(est2 stored)
Service sample

--------------------------------------------
                      (1)             (2)   \\
                      TFP             TFP   \\
--------------------------------------------
ATET                0.040           0.092   \\
                  (0.039)         (0.084)   \\
--------------------------------------------
N                    3353            2772   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQ
(est1 stored)
(est2 stored)
Service sample

--------------------------------------------
                      (1)             (2)   \\
                      lnQ             lnQ   \\
--------------------------------------------
ATET                0.182           1.126***\\
                  (0.107)         (0.238)   \\
--------------------------------------------
N                    3353            2772   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnEx
(est1 stored)
(est2 stored)
Service sample

--------------------------------------------
                      (1)             (2)   \\
                     lnEx            lnEx   \\
--------------------------------------------
ATET                0.829***        0.795*  \\
                  (0.243)         (0.392)   \\
--------------------------------------------
N                    1165             960   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
lnQd
(est1 stored)
(est2 stored)
Service sample

--------------------------------------------
                      (1)             (2)   \\
                     lnQd            lnQd   \\
--------------------------------------------
ATET                0.176           0.944***\\
                  (0.115)         (0.250)   \\
--------------------------------------------
N                    3344            2737   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. 
. 
. *****Figures
. 
. *Whole sample
. foreach Y in $varlist_rhs {
  2. 
.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample, group(fr
> ame_id_numeric) vce(cluster frame_id_numeric) controlgroup(notyet)
  3.     eventbaseline, pre(4) post(4) baseline(-1) generate(event_expat)
  4. 
.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample, group(frame_
> id_numeric) vce(cluster frame_id_numeric) controlgroup(notyet)
  5.     eventbaseline, pre(4) post(4) baseline(-1) generate(event_local)
  6. 
.     frame event_expat: frlink 1:1 time, frame(event_local) generate(local)
  7.     frame event_expat: frget coef_local=coef upper_local=upper lower_local
> =lower, from(local)
  8. 
.     frame event_expat: graph twoway (rarea lower upper time, fcolor(red%10) l
> color(red%10)) (line coef time, color(red)) (rarea lower_local upper_local ti
> me, fcolor(gs10%10) lcolor(gs5%10)) (line coef_local time, color(grey)), grap
> hregion(color(white)) xlabel(-4(1)4) legend(off) xline(-0.5) xtitle("Event ti
> me") yline(0) 
  9. 
.     gr export "$here/output/twfe/expat_local_`Y'.pdf", replace
 10. 
