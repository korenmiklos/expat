
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      18.0
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-STATA-PC        https://www.stata.com
                                   979-696-4600        stata@stata.com

Stata license: Single-user 2-core  perpetual
Serial number: 501806323834
  Licensed to: Miklos Koren
               CEU MicroData

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do code/estimate/regressions.do 

. **************
. *Prepare data
. **************
. 
. * find root folder
. here
/Users/koren/Tresorit/Mac/projects/expat/

. global here = r(here)

. 
. use "$here/temp/analysis_sample.dta", clear

. 
. * different ways of measuring export orientation
. generate lnEx = ln(export_18)
(5,291 missing values generated)

. generate lnQd = ln(sales_18 - export_18)
(1,727 missing values generated)

. clonevar export_entry = exporter

. replace export_entry = . if exporter_pre == 1
(6,881 real changes made, 6,881 to missing)

. 
. *Create teaor in year -1, drop agriculture
. 
. egen teaor08_1d_num = group(teaor08_1d)

. egen teaor08_2d_pre = max(cond(time_foreign==-1, teaor08_2d, .)), by(frame_id
> _numeric)
(359 missing values generated)

. egen teaor08_1d_pre = max(cond(time_foreign==-1, teaor08_1d_num, .)), by(fram
> e_id_numeric)
(359 missing values generated)

. 
. * drop agriculture and mining firms
. drop if teaor08_2d_pre<5
(556 observations deleted)

. generate industrial_pre = (teaor08_2d_pre < 40)

. 
. * compute
. 
. quietly regress lnQ lnK lnL lnM i.teaor08_2d##year if industrial_firm==1

. predict TFP if e(sample), resid
(5,763 missing values generated)

. 
. quietly regress lnQ lnK lnL lnM i.teaor08_2d##year if industrial_firm==0

. predict TFP_temp if e(sample), resid
(4,717 missing values generated)

. 
. replace TFP = TFP_temp if missing(TFP)
(5,763 real changes made)

. drop TFP_temp

. 
. *Samples
. global local_sample "(ever_local==1 | foreign==0)"

. global expat_sample "(ever_expat==1 | foreign==0)"

. 
. global varlist_rhs "lnQ lnQL TFP lnK lnL lnM exporter lnEx lnQd export_entry 
> "

. local pre 3

. local post 5

. 
. ****Average effect, foreign_hire sample, local and expat separately, xthdidre
> g
. 
. foreach Y in $varlist_rhs {
  2. 
.     display
  3.     display
  4.     display
  5.     display "=== Variable: `Y' ==="
  6. 
.     eststo clear
  7.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample, group(fra
> me_id_numeric) vce(cluster frame_id_numeric)
  8.     eststo: quietly eventbaseline, pre(`pre') post(`post') baseline(atet)
  9.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample, group
> (frame_id_numeric) vce(cluster frame_id_numeric)
 10.     eststo: quietly eventbaseline, pre(`pre') post(`post') baseline(atet)
 11. 
.     display
 12.     display "=== Full sample ==="
 13.     esttab, b(3) se  style(tex)
 14. 
.     eststo clear
 15.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample & industri
> al_pre==1, group(frame_id_numeric) vce(cluster frame_id_numeric)
 16.     eststo: quietly eventbaseline, pre(`pre') post(`post') baseline(atet)
 17.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample & indu
> strial_pre==1, group(frame_id_numeric) vce(cluster frame_id_numeric)
 18.     eststo: quietly eventbaseline, pre(`pre') post(`post') baseline(atet)
 19. 
.     display
 20.     display "=== Industry sample ==="
 21.     esttab, b(3) se  style(tex)
 22. 
.     eststo clear
 23.     quietly xthdidregress ra (`Y') (local_ceo) if $local_sample & industri
> al_pre==0, group(frame_id_numeric) vce(cluster frame_id_numeric)
 24.     eststo: quietly eventbaseline, pre(`pre') post(`post') baseline(atet)
 25.     quietly xthdidregress ra (`Y') (has_expat_ceo) if $expat_sample & indu
> strial_pre==0, group(frame_id_numeric) vce(cluster frame_id_numeric)
 26.     eststo: quietly eventbaseline, pre(`pre') post(`post') baseline(atet)
 27. 
.     display
 28.     display "=== Service sample ==="
 29.     esttab, b(3) se style(tex)
 30. 
. }



=== Variable: lnQ ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnQ             lnQ   \\
--------------------------------------------
ATET                0.249*          0.909***\\
                  (0.113)         (0.140)   \\
--------------------------------------------
N                    6665            7345   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnQ             lnQ   \\
--------------------------------------------
ATET                0.525***        0.749***\\
                  (0.158)         (0.157)   \\
--------------------------------------------
N                    2957            3382   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnQ             lnQ   \\
--------------------------------------------
ATET                0.100           1.124***\\
                  (0.153)         (0.237)   \\
--------------------------------------------
N                    3708            3963   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: lnQL ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnQL            lnQL   \\
--------------------------------------------
ATET                0.272**         0.351***\\
                  (0.094)         (0.094)   \\
--------------------------------------------
N                    6665            7345   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnQL            lnQL   \\
--------------------------------------------
ATET                0.350*          0.343** \\
                  (0.146)         (0.109)   \\
--------------------------------------------
N                    2957            3382   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnQL            lnQL   \\
--------------------------------------------
ATET                0.246*          0.354*  \\
                  (0.111)         (0.159)   \\
--------------------------------------------
N                    3708            3963   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: TFP ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                      TFP             TFP   \\
--------------------------------------------
ATET                0.077           0.169** \\
                  (0.046)         (0.053)   \\
--------------------------------------------
N                    6665            7345   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                      TFP             TFP   \\
--------------------------------------------
ATET                0.117*          0.114   \\
                  (0.058)         (0.058)   \\
--------------------------------------------
N                    2957            3382   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                      TFP             TFP   \\
--------------------------------------------
ATET                0.034           0.233*  \\
                  (0.062)         (0.093)   \\
--------------------------------------------
N                    3708            3963   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: lnK ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnK             lnK   \\
--------------------------------------------
ATET               -0.068           0.324** \\
                  (0.118)         (0.114)   \\
--------------------------------------------
N                    6665            7345   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnK             lnK   \\
--------------------------------------------
ATET                0.252           0.405** \\
                  (0.162)         (0.154)   \\
--------------------------------------------
N                    2957            3382   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnK             lnK   \\
--------------------------------------------
ATET               -0.276           0.269   \\
                  (0.142)         (0.164)   \\
--------------------------------------------
N                    3708            3963   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: lnL ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnL             lnL   \\
--------------------------------------------
ATET               -0.023           0.558***\\
                  (0.104)         (0.111)   \\
--------------------------------------------
N                    6665            7345   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnL             lnL   \\
--------------------------------------------
ATET                0.175           0.406** \\
                  (0.167)         (0.139)   \\
--------------------------------------------
N                    2957            3382   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnL             lnL   \\
--------------------------------------------
ATET               -0.145           0.771***\\
                  (0.128)         (0.171)   \\
--------------------------------------------
N                    3708            3963   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: lnM ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnM             lnM   \\
--------------------------------------------
ATET                0.250*          0.779***\\
                  (0.108)         (0.127)   \\
--------------------------------------------
N                    6665            7345   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnM             lnM   \\
--------------------------------------------
ATET                0.509***        0.715***\\
                  (0.152)         (0.150)   \\
--------------------------------------------
N                    2957            3382   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                      lnM             lnM   \\
--------------------------------------------
ATET                0.113           0.887***\\
                  (0.147)         (0.204)   \\
--------------------------------------------
N                    3708            3963   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: exporter ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                 exporter        exporter   \\
--------------------------------------------
ATET                0.052*          0.061*  \\
                  (0.026)         (0.029)   \\
--------------------------------------------
N                    6665            7345   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                 exporter        exporter   \\
--------------------------------------------
ATET                0.082*          0.027   \\
                  (0.038)         (0.037)   \\
--------------------------------------------
N                    2957            3382   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                 exporter        exporter   \\
--------------------------------------------
ATET                0.018           0.100*  \\
                  (0.031)         (0.046)   \\
--------------------------------------------
N                    3708            3963   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: lnEx ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnEx            lnEx   \\
--------------------------------------------
ATET                0.437*          0.793***\\
                  (0.182)         (0.192)   \\
--------------------------------------------
N                    3341            3823   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnEx            lnEx   \\
--------------------------------------------
ATET                0.450           0.852***\\
                  (0.242)         (0.235)   \\
--------------------------------------------
N                    1958            2383   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnEx            lnEx   \\
--------------------------------------------
ATET                0.460           0.591   \\
                  (0.297)         (0.331)   \\
--------------------------------------------
N                    1383            1440   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: lnQd ===
(est1 stored)
(est2 stored)

=== Full sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnQd            lnQd   \\
--------------------------------------------
ATET                0.318*          0.650***\\
                  (0.125)         (0.165)   \\
--------------------------------------------
N                    5785            6391   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Industry sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnQd            lnQd   \\
--------------------------------------------
ATET                0.497**         0.414*  \\
                  (0.169)         (0.188)   \\
--------------------------------------------
N                    2801            3143   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001
(est1 stored)
(est2 stored)

=== Service sample ===

--------------------------------------------
                      (1)             (2)   \\
                     lnQd            lnQd   \\
--------------------------------------------
ATET                0.228           1.102***\\
                  (0.168)         (0.282)   \\
--------------------------------------------
N                    2984            3248   \\
--------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001



=== Variable: export_entry ===
conformability error
r(503);

end of do-file
r(503);
