--------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/est_attgt_missing.log
  log type:  text
 opened on:   5 Jul 2021, 17:40:00

. 
. use "`here'/temp/analysis_sample.dta"

. 
. *attgt exporter lnQL if inrange(year, 1992, 2004) & ever_foreign, treatment(has_expat_ceo ) aggregate(e) pre(2) post(3) reps(20)
. *matrix list e(b)
. *esttab
. 
. *foreach var in exporter lnQL {
. *       attgt `var' if inrange(year, 1992, 2004) & ever_foreign, treatment(has_expat_ceo ) aggregate(e) pre(2) post(3) reps(20)
. *       matrix list e(b)
. *       esttab
. *}
. 
. rename ever_foreign ef

. rename ever_foreign_hire efh

. rename has_expat_ceo has_expat

. 
. gen lnIK = ln(immat_18)
(139,036 missing values generated)

. gen lnIK_0=lnIK
(139,036 missing values generated)

. replace lnIK_0=0 if immat_18==0
(40,686 real changes made)

. 
. replace export_18 = 0 if export_18 == .
(79,688 real changes made)

. gen Qh=sales_18-export_18

. gen lnQh=ln(Qh)
(841 missing values generated)

. gen lnQhr = lnQ - lnQh
(841 missing values generated)

. 
. *clonevar immat_18_imputed = immat_18
. *clonevar export_18_imputed = export_18
. 
. *mvencode immat_18_imputed export_18_imputed, mv(0) override
. 
. *gen lnEx_imputed=ln(export_18_imputed)
. *gen Qh_imputed=sales_18-export_18_imputed
. *gen lnQh_imputed=ln(Qh_imputed)
. *gen Qh_ratio_imputed = Qh_imputed/sales_18
. *gen lnQhr_imputed = ln(Qh_ratio_imputed)
. 
. 
. count
  282,172

. *foreach var in sales_18 export_18 immat_18 emp_add tanass_18 lnQL TFP_cd lnK lnIK_0 lnL exporter lnQ lnQh lnEx lnQhr immat_18_imputed export_18_imputed lnE
> x_imputed lnQh_imputed lnQhr_imputed {
. foreach var in sales_18 export_18 immat_18 emp_add tanass_18 lnQL TFP_cd lnK lnIK_0 lnL exporter lnQ lnQh lnQhr {
  2.         di "=`var'"
  3.         count if `var' == .
  4.         count if `var' == 0
  5.         count if `var' != . & `var' != 0
  6. }
=sales_18
  0
  0
  282,172
=export_18
  0
  198,574
  83,598
=immat_18
  98,347
  40,686
  143,139
=emp_add
  0
  0
  282,172
=tanass_18
  0
  0
  282,172
=lnQL
  0
  1
  282,171
=TFP_cd
  1,226
  0
  280,946
=lnK
  0
  12
  282,160
=lnIK_0
  98,350
  40,702
  143,120
=lnL
  0
  4,952
  277,220
=exporter
  0
  198,574
  83,598
=lnQ
  0
  1
  282,171
=lnQh
  841
  2
  281,329
=lnQhr
  841
  194,616
  86,715

. 
. *foreach var in immat_18 export_18 TFP_cd immat_18_imputed export_18_imputed {
. *       quietly gen zero_missing_positive = 0 if `var' == 0
. *       quietly replace zero_missing_positive = 1 if missing(`var')
. *       quietly replace zero_missing_positive = 2 if `var' > 0 & !missing(`var')
.         *tab zero_missing_positive l1.zero_missing_positive, missing
. *       quietly gen zero_missing_positive_lag = l1.zero_missing_positive
. *       di "`var'"
. *       tab zero_missing_positive zero_missing_positive_lag, missing
. *       drop zero*
. *}
. 
. log close
      name:  <unnamed>
       log:  /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/est_attgt_missing.log
  log type:  text
 closed on:   5 Jul 2021, 17:40:01
--------------------------------------------------------------------------------------------------------------------------------------------------------------
