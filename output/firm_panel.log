-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/koren/Documents/expat-geneva//output/firm_panel.log
  log type:  text
 opened on:   6 May 2022, 19:41:58

. 
. * keep only sample from balance-small - NOTE: had to restructure as we have t
> o keep foreign which is different in years - so no collapse this time
. use "`here'/temp/balance-small-clean.dta"

. by frame_id_numeric: egen firm_birth = min(year)

. by frame_id_numeric: egen firm_death = max(year)

. keep frame_id year firm_birth firm_death foreign

. tempfile sample

. save `sample', replace
(file /var/folders/f4/7drmhl1d5kj3wp1r33jvx32m0000gn/T//St05954.000001 not
    found)
file /var/folders/f4/7drmhl1d5kj3wp1r33jvx32m0000gn/T//St05954.000001 saved
    as .dta format

. 
. * count expats in do - asterisk used
. *use "`here'/input/ceo-panel/ceo-panel.dta", clear // QUESTION: what is owner
. *rename person_id manager_id
. *merge m:1 frame_id_numeric year using `sample', keep(match) nogen
. *bys frame_id_numeric: egen ever_expat = max(expat == 1)
. *bys frame_id_numeri: egen ever_foreign = max(foreign == 1)
. *egen firm_tag = tag(frame_id_numeric)
. *count if ever_expat == 1 & ever_foreign == 0 & firm_tag == 1
. 
. foreach type in ceo nceo {
  2.         use "`here'/input/`type'-panel/`type'-panel.dta", clear // QUESTIO
> N: what is owner
  3.         rename person_id manager_id
  4.         
.         *for descriptives (number of ceo-s and nceo-s in original data, numbe
> r of ceo and nceo job-spells in original data)
.         count
  5.         egen company_manager_id = group(frame_id_numeric manager_id)
  6.         codebook manager_id
  7.         codebook company_manager_id
  8.         drop company_manager_id
  9. 
.         * only keep sample firms
.         merge m:1 frame_id_numeric year using `sample', keep(match) nogen
 10.         count if first_year_of_firm == firm_birth // QUESTION: why not the
>  same? - same for the last year
 11. 
.         * balance panel
.         egen company_manager_id = group(frame_id manager_id)
 12.         xtset company_manager_id year
 13.         by company_manager_id: generate gap = year - year[_n-1] - 1
 14.         replace gap = 0 if missing(gap)
 15.         tabulate gap
 16. 
.         * fill in gap if only 1 or 2-year long
.         
.         *forval i = 1(1)2 {
.         *       sort company_manager_id year
.         *       expand 1 + `i' if gap == `i', generate(filled_in_`i') // FIXM
> E OR QUESTION: maybe second year as well
.         *       replace year = year - `i' if filled_in_`i'
.         *       tab filled_in_`i'
.         *}
.         
.         *bys company_manager_id year: replace year = year + _n - 1 if filled_
> in_2
.         
.         expand 1 + (gap == 1), generate(filled_in)
 17.         replace year = year - 1 if filled_in
 18. 
.         * create contiguous spells
.         xtset company_manager_id year
 19.         gen change = ceo != L.ceo // intuition: should be ok in both files
>  (possible FIXME)
 20.         bysort company_manager_id (year): gen job_spell = sum(change)
 21. 
.         * create job begin and end for each manager spell
.         bys frame_id_numeric manager_id job_spell: egen job_begin = min(year)
 22.         bys frame_id_numeric manager_id job_spell: egen job_end = max(year
> )
 23.         keep frame_id_numeric manager_id job_spell year job_begin job_end 
> expat founder insider outsider firm_birth foreign country_code
 24. 
.         * if first managers arrive in year 1, extrapolate to year 0 - DROP SP
> ELL
.         bys frame_id_numeric: egen first_cohort = min(job_begin)
 25.         replace job_begin = job_begin - 1 if (first_cohort == firm_birth +
>  1) & (job_begin == first_cohort)
 26. 
.         * NOTE: no collapse and expand --> there might be holes
.         sort frame_id_numeric manager_id year
 27.         count if frame_id_numeric == frame_id_numeric[_n-1] & manager_id =
> = manager_id[_n-1] & year != (year[_n-1] + 1)
 28. 
.         * expat before 1990
.         replace expat = 0 if job_begin < 1990
 29. 
.         ***********************
.         * time invariant vars and drop entire series of firms from sample *
.         ***********************
.                 by frame_id_numeric: egen first_year_expat = min(cond(expat =
> = 1, job_begin,.))
 30.                 by frame_id_numeric: egen first_year_foreign = min(cond(fo
> reign == 1, year,.))
 31.                 
.                 * which of the two happened first?
.                 generate manager_after_owner = first_year_expat - first_year_
> foreign
 32.                 * event time relative to that
.                 generate event_time = year - first_year_expat
 33.                 
.                 * if foreign manager arrives up to 2 years before 1 year late
> r than foreign owner, use foreign manager as arrival date. this is easier to 
> implement
.                 replace foreign = 1 if (manager_after_owner == -2) & inlist(e
> vent_time, 0, 1)
 34.                 replace foreign = 1 if (manager_after_owner == -1) & inlis
> t(event_time, 0)
 35.                 replace foreign = 0 if (manager_after_owner == +1) & inlis
> t(event_time, -1)
 36. 
.                 * QUESTION: order of deletions (may be fine as all are firm l
> evel)
.                 * drop firms where expat arrives earlier than 2 years before 
> owner
.                 drop if manager_after_owner < -2
 37.                 
.                 * ever expat and foreign created after foreign changes (drops
>  were firm level before so should not mess with ever variables)
.                 foreach X of var expat foreign {
 38.                         by frame_id_numeric: egen ever_`X'_`type' = max(`X
> '==1)
 39.                 }
 40. 
.                 * drop if there was an expat but was never foreign
.                 drop if ever_expat == 1 & ever_foreign == 0
 41.                 scalar dropped_do3_expat_firmyears = r(N_drop)
 42.                 
.                 * drop too many CEO-s - FIXME AND QUESTION: should be moved i
> n the next file where spells are limited - but there cannot be created withou
> t manager level data
.                 egen fp_tag = tag(frame_id_numeric manager_id) 
 43.                 by frame_id_numeric: egen n_ceo_ever = sum(fp_tag)
 44.                 drop if n_ceo > 15
 45.                 scalar dropped_too_many_CEOs = r(N_drop)
 46.                 drop fp_tag n_ceo_ever
 47.                 
.         * hired or fired ceo since last observed year of firm - * POSSIBLE FI
> XME: expat, owner, insider, outsider, founder - hire, fire combinations later
.         tempvar previous_year
 48.         generate previous_year = .
 49.         forval t = 1985/2018 {
 50.                 by frame_id_numeric: egen `previous_year' = max(cond(year 
> < `t', year, .))
 51.                 replace previous_year = `previous_year' if year == `t'
 52.                 drop `previous_year'
 53.         }
 54. 
.         by frame_id_numeric: egen first_year = min(year)
 55.         bys frame_id_numeric (year): generate byte hire = cond(first_year 
> == year, 1, (job_begin <= year) & (job_begin > previous_year))
 56. 
.         tempvar next_year
 57.         generate next_year = .
 58.         forval t = 1985/2018 {
 59.                 by frame_id_numeric: egen `next_year' = min(cond(year > `t
> ', year, .))
 60.                 replace next_year = `next_year' if year == `t'
 61.                 drop `next_year'
 62.         }
 63. 
.         gen byte fire = ((job_end >= year) & (job_end < next_year))
 64.         tabulate hire fire 
 65. 
.         gen hire_expat_`type' = hire * expat
 66.         gen fire_expat_`type' = fire * expat
 67. 
.         * number of expats and locals
.         bys frame_id_numeric year: egen n_expat_`type' = total(cond(expat, 1,
>  0)) // could be in collapse but local not
 68.         bys frame_id_numeric year: egen n_local_`type' = total(cond(!expat
> , 1, 0))
 69.         
.         * create firm-year data
.         * FIXME: country_code may be different within a firm-year
.         collapse (sum) n_founder_`type' = founder n_insider_`type' = insider 
> n_outsider_`type' = outsider (firstnm) n_expat_`type' n_local_`type' foreign_
> `type' = foreign ever_expat_`type' ever_foreign_`type' (count) n_`type' = exp
> at (max) hire_`type' = hire fire_`type' = fire hire_expat_`type' fire_expat_`
> type', by(frame_id_numeric year)
 70. 
.         * managers in first year not classified as new hires and in last year
>  not classified as fired
.         bys frame_id_numeric (year): replace hire_`type' = 0 if (_n==1)
 71.         bys frame_id_numeric (year): replace fire_`type' = 0 if (_n==_N)
 72.         bys frame_id_numeric (year): replace hire_expat_`type' = 0 if (_n=
> =1)
 73.         bys frame_id_numeric (year): replace fire_expat_`type' = 0 if (_n=
> =_N)
 74.         bys frame_id_numeric (year): gen ceo_spell_`type' = sum(hire_`type
> ' | fire_`type') + 1 // so that index start from 1
 75. 
.         * create dummies from numbers
.         foreach var in expat local founder insider outsider {
 76.                 gen has_`var'_`type' = (n_`var'_`type' > 0) & n_`var'_`typ
> e' != .
 77.         }
 78.         
.         tempfile manager_`type'
 79.         save `manager_`type''
 80. }
  13,693,858

-------------------------------------------------------------------------------
manager_id                                       group(manager_id manager_type)
-------------------------------------------------------------------------------

                  Type: Numeric (long)

                 Range: [1,1470738]                   Units: 1
         Unique values: 1,352,073                 Missing .: 0/13,693,858

                  Mean: 794024
             Std. dev.: 376566

           Percentiles:    10%       25%       50%       75%       90%
                        272495    521712    781130   1.1e+06   1.3e+06

-------------------------------------------------------------------------------
company_manager_id                           group(frame_id_numeric manager_id)
-------------------------------------------------------------------------------

                  Type: Numeric (float)

                 Range: [1,2093703]                   Units: 1
         Unique values: 2,093,703                 Missing .: 0/13,693,858

                  Mean: 1.0e+06
             Std. dev.:  620419

           Percentiles:     10%       25%       50%       75%       90%
                         178211    458356   1.0e+06   1.5e+06   2.0e+06
(variable year was int, now float to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                           486,484  
    -----------------------------------------
  236,606

Panel variable: company_manager_id (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
(79,501 missing values generated)
(79,501 real changes made)

        gap |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |    479,319       98.53       98.53
          1 |      3,913        0.80       99.33
          2 |      1,117        0.23       99.56
          3 |        633        0.13       99.69
          4 |        411        0.08       99.78
          5 |        327        0.07       99.84
          6 |        202        0.04       99.88
          7 |        131        0.03       99.91
          8 |        109        0.02       99.93
          9 |         94        0.02       99.95
         10 |         54        0.01       99.96
         11 |         34        0.01       99.97
         12 |         31        0.01       99.98
         13 |         27        0.01       99.98
         14 |         19        0.00       99.99
         15 |         15        0.00       99.99
         16 |         12        0.00       99.99
         17 |         10        0.00       99.99
         18 |          6        0.00      100.00
         19 |          5        0.00      100.00
         20 |          5        0.00      100.00
         21 |          4        0.00      100.00
         22 |          3        0.00      100.00
         23 |          1        0.00      100.00
         24 |          1        0.00      100.00
         25 |          1        0.00      100.00
------------+-----------------------------------
      Total |    486,484      100.00
(3,913 observations created)
(3,913 real changes made)

Panel variable: company_manager_id (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
(43,425 real changes made)
  3,252
(322 real changes made)
(406,088 missing values generated)
(412,298 missing values generated)
(427,891 missing values generated)
(406,088 missing values generated)
(97 real changes made)
(102 real changes made)
(78 real changes made)
(5,665 observations deleted)
(21,803 observations deleted)
(11,751 observations deleted)
(451,178 missing values generated)
(451,178 missing values generated)
(0 real changes made)
(403,949 missing values generated)
(2,216 real changes made)
(402,015 missing values generated)
(2,412 real changes made)
(399,677 missing values generated)
(2,656 real changes made)
(398,311 missing values generated)
(2,725 real changes made)
(392,282 missing values generated)
(3,210 real changes made)
(349,834 missing values generated)
(6,388 real changes made)
(307,325 missing values generated)
(8,144 real changes made)
(253,715 missing values generated)
(9,994 real changes made)
(211,532 missing values generated)
(11,527 real changes made)
(179,979 missing values generated)
(12,388 real changes made)
(159,957 missing values generated)
(12,745 real changes made)
(140,346 missing values generated)
(13,167 real changes made)
(119,631 missing values generated)
(13,847 real changes made)
(103,910 missing values generated)
(14,206 real changes made)
(92,400 missing values generated)
(14,380 real changes made)
(78,571 missing values generated)
(14,745 real changes made)
(65,997 missing values generated)
(15,164 real changes made)
(56,409 missing values generated)
(15,358 real changes made)
(49,445 missing values generated)
(16,146 real changes made)
(42,797 missing values generated)
(16,317 real changes made)
(36,947 missing values generated)
(16,388 real changes made)
(30,813 missing values generated)
(16,683 real changes made)
(26,046 missing values generated)
(17,285 real changes made)
(20,871 missing values generated)
(17,076 real changes made)
(16,984 missing values generated)
(16,864 real changes made)
(13,604 missing values generated)
(16,573 real changes made)
(10,378 missing values generated)
(16,419 real changes made)
(7,772 missing values generated)
(16,425 real changes made)
(5,318 missing values generated)
(16,079 real changes made)
(3,238 missing values generated)
(15,036 real changes made)
(1,831 missing values generated)
(15,039 real changes made)
(802 missing values generated)
(14,998 real changes made)
(219 missing values generated)
(14,534 real changes made)
(451,178 missing values generated)
(2,216 real changes made)
(2,413 real changes made)
(10 missing values generated)
(2,664 real changes made)
(165 missing values generated)
(2,726 real changes made)
(256 missing values generated)
(3,212 real changes made)
(1,114 missing values generated)
(6,418 real changes made)
(5,192 missing values generated)
(8,316 real changes made)
(9,820 missing values generated)
(10,221 real changes made)
(13,893 missing values generated)
(11,453 real changes made)
(18,151 missing values generated)
(12,419 real changes made)
(22,038 missing values generated)
(12,772 real changes made)
(26,330 missing values generated)
(13,239 real changes made)
(30,563 missing values generated)
(13,713 real changes made)
(34,672 missing values generated)
(14,255 real changes made)
(40,237 missing values generated)
(14,229 real changes made)
(45,105 missing values generated)
(14,696 real changes made)
(49,626 missing values generated)
(15,040 real changes made)
(55,204 missing values generated)
(15,315 real changes made)
(60,787 missing values generated)
(15,389 real changes made)
(68,189 missing values generated)
(16,037 real changes made)
(74,666 missing values generated)
(16,231 real changes made)
(81,723 missing values generated)
(16,287 real changes made)
(88,942 missing values generated)
(16,539 real changes made)
(98,057 missing values generated)
(17,015 real changes made)
(106,400 missing values generated)
(16,806 real changes made)
(114,520 missing values generated)
(16,630 real changes made)
(122,426 missing values generated)
(16,426 real changes made)
(128,928 missing values generated)
(16,319 real changes made)
(138,933 missing values generated)
(16,176 real changes made)
(158,637 missing values generated)
(15,242 real changes made)
(166,542 missing values generated)
(14,907 real changes made)
(173,411 missing values generated)
(14,928 real changes made)
(186,023 missing values generated)
(14,448 real changes made)
(451,178 missing values generated)
(0 real changes made)

           |         fire
      hire |         0          1 |     Total
-----------+----------------------+----------
         0 |   319,429     58,547 |   377,976 
         1 |    58,547     14,655 |    73,202 
-----------+----------------------+----------
     Total |   377,976     73,202 |   451,178 
(25,703 real changes made)
(25,703 real changes made)
(1198 real changes made)
(1368 real changes made)
file /var/folders/f4/7drmhl1d5kj3wp1r33jvx32m0000gn/T//St05954.000002 saved
    as .dta format
  288,033

-------------------------------------------------------------------------------
manager_id                                                    group(manager_id)
-------------------------------------------------------------------------------

                  Type: Numeric (long)

                 Range: [80,1429833]                  Units: 1
         Unique values: 58,121                    Missing .: 0/288,033

                  Mean: 752768
             Std. dev.: 371598

           Percentiles:    10%       25%       50%       75%       90%
                        230023    478933    743701   1.1e+06   1.3e+06

-------------------------------------------------------------------------------
company_manager_id                           group(frame_id_numeric manager_id)
-------------------------------------------------------------------------------

                  Type: Numeric (float)

                 Range: [1,68173]                     Units: 1
         Unique values: 68,173                    Missing .: 0/288,033

                  Mean: 31559.5
             Std. dev.: 19323.1

           Percentiles:     10%       25%       50%       75%       90%
                           5716     14672     30905     47630     59335
(variable year was int, now float to accommodate using data's values)

    Result                      Number of obs
    -----------------------------------------
    Not matched                             0
    Matched                           119,961  
    -----------------------------------------
  35,218

Panel variable: company_manager_id (unbalanced)
 Time variable: year, 1988 to 2018, but with gaps
         Delta: 1 unit
(28,293 missing values generated)
(28,293 real changes made)

        gap |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |    118,212       98.54       98.54
          1 |        828        0.69       99.23
          2 |        324        0.27       99.50
          3 |        196        0.16       99.67
          4 |        115        0.10       99.76
          5 |         89        0.07       99.84
          6 |         57        0.05       99.88
          7 |         40        0.03       99.92
          8 |         30        0.03       99.94
          9 |         20        0.02       99.96
         10 |         18        0.02       99.97
         11 |          7        0.01       99.98
         12 |          7        0.01       99.98
         13 |          4        0.00       99.99
         14 |          1        0.00       99.99
         15 |          4        0.00       99.99
         16 |          3        0.00       99.99
         17 |          3        0.00      100.00
         19 |          1        0.00      100.00
         22 |          1        0.00      100.00
         24 |          1        0.00      100.00
------------+-----------------------------------
      Total |    119,961      100.00
(828 observations created)
(828 real changes made)

Panel variable: company_manager_id (unbalanced)
 Time variable: year, 1988 to 2018, but with gaps
         Delta: 1 unit
(7,264 real changes made)
  921
(106 real changes made)
(88,327 missing values generated)
(91,776 missing values generated)
(100,800 missing values generated)
(88,327 missing values generated)
(32 real changes made)
(18 real changes made)
(95 real changes made)
(2,151 observations deleted)
(12,473 observations deleted)
(38,550 observations deleted)
(67,615 missing values generated)
(67,615 missing values generated)
(0 real changes made)
(67,615 missing values generated)
(0 real changes made)
(67,615 missing values generated)
(0 real changes made)
(67,615 missing values generated)
(0 real changes made)
(58,284 missing values generated)
(1,192 real changes made)
(57,502 missing values generated)
(1,277 real changes made)
(53,249 missing values generated)
(1,856 real changes made)
(49,785 missing values generated)
(1,941 real changes made)
(46,485 missing values generated)
(1,350 real changes made)
(41,272 missing values generated)
(1,628 real changes made)
(37,626 missing values generated)
(1,810 real changes made)
(36,006 missing values generated)
(1,766 real changes made)
(35,166 missing values generated)
(1,632 real changes made)
(34,019 missing values generated)
(1,532 real changes made)
(32,924 missing values generated)
(1,486 real changes made)
(30,289 missing values generated)
(1,506 real changes made)
(27,686 missing values generated)
(1,562 real changes made)
(25,401 missing values generated)
(1,645 real changes made)
(23,798 missing values generated)
(1,720 real changes made)
(21,870 missing values generated)
(1,937 real changes made)
(16,135 missing values generated)
(2,387 real changes made)
(13,257 missing values generated)
(2,423 real changes made)
(11,058 missing values generated)
(2,258 real changes made)
(9,217 missing values generated)
(2,335 real changes made)
(7,453 missing values generated)
(2,538 real changes made)
(5,875 missing values generated)
(2,552 real changes made)
(4,832 missing values generated)
(2,338 real changes made)
(3,718 missing values generated)
(2,398 real changes made)
(2,913 missing values generated)
(2,373 real changes made)
(2,128 missing values generated)
(2,383 real changes made)
(1,345 missing values generated)
(2,038 real changes made)
(819 missing values generated)
(2,024 real changes made)
(333 missing values generated)
(2,079 real changes made)
(102 missing values generated)
(2,010 real changes made)
(67,615 missing values generated)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(7 missing values generated)
(1,192 real changes made)
(54 missing values generated)
(1,280 real changes made)
(303 missing values generated)
(1,906 real changes made)
(1,609 missing values generated)
(2,042 real changes made)
(5,062 missing values generated)
(1,477 real changes made)
(5,903 missing values generated)
(1,648 real changes made)
(6,696 missing values generated)
(1,834 real changes made)
(7,286 missing values generated)
(1,828 real changes made)
(8,285 missing values generated)
(1,698 real changes made)
(9,568 missing values generated)
(1,560 real changes made)
(10,478 missing values generated)
(1,526 real changes made)
(11,782 missing values generated)
(1,579 real changes made)
(12,904 missing values generated)
(1,587 real changes made)
(14,078 missing values generated)
(1,668 real changes made)
(15,155 missing values generated)
(1,681 real changes made)
(17,876 missing values generated)
(1,633 real changes made)
(20,413 missing values generated)
(2,311 real changes made)
(22,015 missing values generated)
(2,465 real changes made)
(23,974 missing values generated)
(2,405 real changes made)
(25,506 missing values generated)
(2,258 real changes made)
(26,738 missing values generated)
(2,395 real changes made)
(28,856 missing values generated)
(2,501 real changes made)
(31,832 missing values generated)
(2,359 real changes made)
(33,348 missing values generated)
(2,312 real changes made)
(35,053 missing values generated)
(2,368 real changes made)
(36,476 missing values generated)
(2,340 real changes made)
(41,762 missing values generated)
(1,982 real changes made)
(43,763 missing values generated)
(1,972 real changes made)
(45,457 missing values generated)
(2,017 real changes made)
(47,386 missing values generated)
(1,958 real changes made)
(67,615 missing values generated)
(0 real changes made)

           |         fire
      hire |         0          1 |     Total
-----------+----------------------+----------
         0 |    39,040     12,510 |    51,550 
         1 |    12,510      3,555 |    16,065 
-----------+----------------------+----------
     Total |    51,550     16,065 |    67,615 
(5,172 real changes made)
(5,172 real changes made)
(140 real changes made)
(173 real changes made)
file /var/folders/f4/7drmhl1d5kj3wp1r33jvx32m0000gn/T//St05954.000003 saved
    as .dta format

. 
. use `manager_ceo'

. * merge on manager_countries
. merge 1:1 frame_id_numeric year using "`here'/temp/manager_country.dta", keep
> (master match) nogen

    Result                      Number of obs
    -----------------------------------------
    Not matched                           273
        from master                       273  
        from using                          0  

    Matched                           314,119  
    -----------------------------------------

. tabulate has_expat_ceo if missing(country_list)

has_expat_c |
         eo |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |        241       88.28       88.28
          1 |         32       11.72      100.00
------------+-----------------------------------
      Total |        273      100.00

. tabulate has_expat_ceo if !missing(country_list)

has_expat_c |
         eo |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |    295,705       94.14       94.14
          1 |     18,414        5.86      100.00
------------+-----------------------------------
      Total |    314,119      100.00

. rename country_list country_all_ceo

. rename language_list lang_all_ceo

. 
. merge 1:1 frame_id_numeric year using `manager_nceo', keep (1 3) nogen // 1, 
> only 1 and 3 to not have missing cases in tab has_expat_ceo, missing in analy
> sis-sample 2, merge here to makes sure to have only ceo-s when countries are 
> merged

    Result                      Number of obs
    -----------------------------------------
    Not matched                       284,421
        from master                   284,421  
        from using                          0  

    Matched                            29,971  
    -----------------------------------------

. 
. count
  314,392

. compress
  variable year was float now int
  variable n_expat_ceo was float now byte
  variable n_local_ceo was float now byte
  variable ever_expat_ceo was float now byte
  variable ever_foreign_ceo was float now byte
  variable n_ceo was long now byte
  variable hire_expat_ceo was float now byte
  variable fire_expat_ceo was float now byte
  variable ceo_spell_ceo was float now byte
  variable has_expat_ceo was float now byte
  variable has_local_ceo was float now byte
  variable has_founder_ceo was float now byte
  variable has_insider_ceo was float now byte
  variable has_outsider_ceo was float now byte
  variable n_expat_nceo was float now byte
  variable n_local_nceo was float now byte
  variable ever_expat_nceo was float now byte
  variable ever_foreign_nceo was float now byte
  variable n_nceo was long now byte
  variable hire_expat_nceo was float now byte
  variable fire_expat_nceo was float now byte
  variable ceo_spell_nceo was float now byte
  variable has_expat_nceo was float now byte
  variable has_local_nceo was float now byte
  variable has_founder_nceo was float now byte
  variable has_insider_nceo was float now byte
  variable has_outsider_nceo was float now byte
  variable n_founder_ceo was double now byte
  variable n_insider_ceo was double now byte
  variable n_outsider_ceo was double now byte
  variable n_founder_nceo was double now byte
  variable n_insider_nceo was double now byte
  variable n_outsider_nceo was double now byte
  variable lang_all_ceo was str6 now str3
  variable country_all_ceo was str18 now str15
  (40,242,176 bytes saved)

. *save_all_to_json
. save "`here'/temp/firm_events.dta", replace
file /Users/koren/Documents/expat-geneva//temp/firm_events.dta saved

. log close
      name:  <unnamed>
       log:  /Users/koren/Documents/expat-geneva//output/firm_panel.log
  log type:  text
 closed on:   6 May 2022, 19:43:00
-------------------------------------------------------------------------------
