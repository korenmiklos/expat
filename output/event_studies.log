-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/koren/Documents/workspace/expat//output/event_studies.log
  log type:  text
 opened on:   6 May 2022, 19:21:30

. 
. local pre 5

. local post 10

. local vars lnL lnQL lnK exporter RperK TFP_cd

. local controls lnQ lnL exporter

. 
. use "`here'/temp/analysis_sample.dta", clear

. keep if ever_foreign
(0 observations deleted)

. 
. xtset frame_id_numeric year

Panel variable: frame_id_numeric (strongly balanced)
 Time variable: year, 1985 to 2018
         Delta: 1 unit

. generate byte Fsurvival = F.survival
(1,127 missing values generated)

. 
. count
  38,318

. 
. rename has_expat_ceo expat_hire

. generate local_hire = foreign_hire & !expat_hire

. generate no_hire = foreign & !foreign_hire

. 
. foreach treatment in no_hire local_hire expat_hire {
  2.     attgt Fsurvival, treatment(`treatment') aggregate(e) pre(`pre') post(`
> post') notyet limitcontrol(foreign == 0) ipw(`controls')
  3.     count if e(sample) == 1
  4.     do "`here'/code/util/event_study_plot.do"
  5.     foreach outcome in Fsurvival {
  6.         graph display `outcome'
  7.         graph export "`here'/output/figure/event_study/`treatment'_`outcom
> e'.png", replace
  8.         graph drop `outcome'
  9.     }
 10. }

Panel variable: frame_id_numeric (strongly balanced)
 Time variable: year, 1985 to 2018
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0049982       8.74e-07
 5%     .0230616       3.53e-06
10%     .0462077       3.63e-06       Obs              38,318
25%            1       4.43e-06       Sum of wgt.      38,318

50%            1                      Mean           .8464098
                        Largest       Std. dev.      .3500716
75%            1              1
90%            1       1.144079       Variance       .1225501
95%            1       1.252882       Skewness      -1.846819
99%            1       1.798765       Kurtosis       4.433462
Estimating Fsurvival: event_m5
Estimating Fsurvival: event_m4
Estimating Fsurvival: event_m3
Estimating Fsurvival: event_m2
Estimating Fsurvival: event_m1
Estimating Fsurvival: event_1
Estimating Fsurvival: event_2
Estimating Fsurvival: event_3
Estimating Fsurvival: event_4
Estimating Fsurvival: event_5
Estimating Fsurvival: event_6
Estimating Fsurvival: event_7
Estimating Fsurvival: event_8
Estimating Fsurvival: event_9
Estimating Fsurvival: event_10
Callaway Sant'Anna (2021)

                                                         Number of obs = 7,698

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
    event_m5 |  -.8103645   .0692225   -11.71   0.000    -.9460382   -.6746908
    event_m4 |   -.648631   .0630337   -10.29   0.000    -.7721748   -.5250872
    event_m3 |  -.5708037   .0587242    -9.72   0.000     -.685901   -.4557064
    event_m2 |  -.4352383   .0468169    -9.30   0.000    -.5269976   -.3434789
    event_m1 |  -.2708526   .0330447    -8.20   0.000    -.3356191   -.2060862
     event_1 |  -.1398993   .0258273    -5.42   0.000    -.1905199   -.0892787
     event_2 |  -.4131652   .0410683   -10.06   0.000    -.4936576   -.3326727
     event_3 |  -.6893556   .0594872   -11.59   0.000    -.8059483   -.5727629
     event_4 |  -.9238056    .077983   -11.85   0.000    -1.076649   -.7709618
     event_5 |  -1.078939   .0915546   -11.78   0.000    -1.258383   -.8994956
     event_6 |  -1.223163   .1006008   -12.16   0.000    -1.420337   -1.025989
     event_7 |  -1.362473   .1108405   -12.29   0.000    -1.579716   -1.145229
     event_8 |   -1.47169   .1229177   -11.97   0.000    -1.712605   -1.230776
     event_9 |  -1.553412   .1363137   -11.40   0.000    -1.820582   -1.286242
    event_10 |  -1.610199   .1450901   -11.10   0.000     -1.89457   -1.325828
------------------------------------------------------------------------------
  7,698

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 15.

. 
. generate str outcome = ""
(15 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str9
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(1 observation created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"Fsurvival"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/workspace/expat//output/figure/event_study/no_hire_
> Fsurvival.png written in PNG format

Panel variable: frame_id_numeric (strongly balanced)
 Time variable: year, 1985 to 2018
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0087009       .0000294
 5%     .0210294       .0000361
10%      .038331       .0000423       Obs              38,318
25%            1       .0000491       Sum of wgt.      38,318

50%            1                      Mean           .8441983
                        Largest       Std. dev.      .3536001
75%            1       1.080803
90%            1       1.192856       Variance        .125033
95%            1       1.920425       Skewness      -1.830213
99%            1       1.957397       Kurtosis       4.373348
Estimating Fsurvival: event_m5
Estimating Fsurvival: event_m4
Estimating Fsurvival: event_m3
Estimating Fsurvival: event_m2
Estimating Fsurvival: event_m1
Estimating Fsurvival: event_1
Estimating Fsurvival: event_2
Estimating Fsurvival: event_3
Estimating Fsurvival: event_4
Estimating Fsurvival: event_5
Estimating Fsurvival: event_6
Estimating Fsurvival: event_7
Estimating Fsurvival: event_8
Estimating Fsurvival: event_9
Estimating Fsurvival: event_10
Callaway Sant'Anna (2021)

                                                         Number of obs = 8,114

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
    event_m5 |   -.754975   .0759256    -9.94   0.000    -.9037865   -.6061635
    event_m4 |  -.6749879   .0687726    -9.81   0.000    -.8097797   -.5401962
    event_m3 |  -.5838692   .0600286    -9.73   0.000    -.7015232   -.4662152
    event_m2 |  -.4683566   .0498494    -9.40   0.000    -.5660596   -.3706536
    event_m1 |  -.3246896   .0334806    -9.70   0.000    -.3903104   -.2590687
     event_1 |  -.0004819   .0280804    -0.02   0.986    -.0555185    .0545548
     event_2 |  -.2258404   .0388556    -5.81   0.000    -.3019959   -.1496849
     event_3 |    -.36536   .0527815    -6.92   0.000    -.4688098   -.2619101
     event_4 |  -.4934688    .058364    -8.46   0.000    -.6078603   -.3790774
     event_5 |  -.5970397   .0686788    -8.69   0.000    -.7316476   -.4624317
     event_6 |  -.6511984   .0710579    -9.16   0.000    -.7904692   -.5119275
     event_7 |  -.7358099   .0781861    -9.41   0.000    -.8890518    -.582568
     event_8 |  -.8259216   .0846719    -9.75   0.000    -.9918754   -.6599677
     event_9 |  -.8949818   .0925309    -9.67   0.000    -1.076339   -.7136246
    event_10 |  -.8930089   .0980316    -9.11   0.000    -1.085147   -.7008705
------------------------------------------------------------------------------
  8,114

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 15.

. 
. generate str outcome = ""
(15 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str9
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(1 observation created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"Fsurvival"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/workspace/expat//output/figure/event_study/local_hi
> re_Fsurvival.png written in PNG format

Panel variable: frame_id_numeric (strongly balanced)
 Time variable: year, 1985 to 2018
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0190093       .0016377
 5%     .0413428       .0042824
10%     .0717831       .0045848       Obs              38,318
25%            1       .0047234       Sum of wgt.      38,318

50%            1                      Mean           .8533842
                        Largest       Std. dev.      .3388133
75%            1              1
90%            1              1       Variance       .1147945
95%            1              1       Skewness      -1.890122
99%            1              1       Kurtosis       4.599739
Estimating Fsurvival: event_m5
Estimating Fsurvival: event_m4
Estimating Fsurvival: event_m3
Estimating Fsurvival: event_m2
Estimating Fsurvival: event_m1
Estimating Fsurvival: event_1
Estimating Fsurvival: event_2
Estimating Fsurvival: event_3
Estimating Fsurvival: event_4
Estimating Fsurvival: event_5
Estimating Fsurvival: event_6
Estimating Fsurvival: event_7
Estimating Fsurvival: event_8
Estimating Fsurvival: event_9
Estimating Fsurvival: event_10
Callaway Sant'Anna (2021)

                                                        Number of obs = 10,085

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
    event_m5 |  -.8061248   .0683359   -11.80   0.000    -.9400607    -.672189
    event_m4 |  -.7402162   .0595485   -12.43   0.000    -.8569291   -.6235033
    event_m3 |  -.6098861   .0503894   -12.10   0.000    -.7086475   -.5111247
    event_m2 |  -.5137483   .0418932   -12.26   0.000    -.5958575   -.4316391
    event_m1 |  -.4194228   .0368998   -11.37   0.000    -.4917451   -.3471004
     event_1 |  -.0047503    .020079    -0.24   0.813    -.0441044    .0346039
     event_2 |  -.0769889    .023477    -3.28   0.001     -.123003   -.0309747
     event_3 |  -.1407836   .0251797    -5.59   0.000    -.1901348   -.0914324
     event_4 |  -.2062163   .0297995    -6.92   0.000    -.2646221   -.1478104
     event_5 |  -.2401251    .031474    -7.63   0.000    -.3018131   -.1784372
     event_6 |  -.2682539   .0353653    -7.59   0.000    -.3375686   -.1989393
     event_7 |  -.3215899   .0399933    -8.04   0.000    -.3999754   -.2432044
     event_8 |  -.3837787   .0447834    -8.57   0.000    -.4715525   -.2960048
     event_9 |  -.4014791    .049201    -8.16   0.000    -.4979113   -.3050469
    event_10 |  -.4294517   .0519971    -8.26   0.000    -.5313642   -.3275392
------------------------------------------------------------------------------
  10,085

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 15.

. 
. generate str outcome = ""
(15 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str9
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(1 observation created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"Fsurvival"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/workspace/expat//output/figure/event_study/expat_hi
> re_Fsurvival.png written in PNG format

. keep if survival
(22,167 observations deleted)

. foreach treatment in no_hire local_hire expat_hire {
  2.     attgt `vars' if survival, treatment(`treatment') aggregate(e) pre(`pre
> ') post(`post') notyet limitcontrol(foreign == 0) ipw(`controls')
  3.     count if e(sample) == 1
  4.     do "`here'/code/util/event_study_plot.do"
  5.     foreach outcome in `vars' {
  6.         graph display `outcome'
  7.         graph export "`here'/output/figure/event_study/`treatment'_`outcom
> e'.png", replace
  8.         graph drop `outcome'
  9.     }
 10. }

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0022265       7.37e-07
 5%     .0104433       .0000113
10%     .0200172       .0000127       Obs              16,151
25%     .0507067       .0000164       Sum of wgt.      16,151

50%            1                      Mean            .639656
                        Largest       Std. dev.      .4650206
75%            1       1.760909
90%            1       2.654515       Variance       .2162441
95%            1       4.643382       Skewness      -.3688915
99%            1       5.773894       Kurtosis       2.524636
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                         Number of obs = 7,560

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |  -.1749418   .1498102    -1.17   0.243    -.4685644    .1186807
    event_m4 |   -.063955   .1273354    -0.50   0.615    -.3135277    .1856177
    event_m3 |  -.0917877   .1099494    -0.83   0.404    -.3072845    .1237091
    event_m2 |   .0122001   .0879232     0.14   0.890    -.1601261    .1845263
    event_m1 |  -.1623283   .0746146    -2.18   0.030    -.3085702   -.0160864
     event_1 |   .0231791   .0697783     0.33   0.740    -.1135838     .159942
     event_2 |   .0714407   .0841621     0.85   0.396     -.093514    .2363954
     event_3 |   .0443597   .0944962     0.47   0.639    -.1408496    .2295689
     event_4 |   .1640061   .1107298     1.48   0.139    -.0530203    .3810326
     event_5 |   .1144125   .1360222     0.84   0.400     -.152186     .381011
     event_6 |   .1191101    .157479     0.76   0.449    -.1895432    .4277633
     event_7 |   .2516417   .1717978     1.46   0.143    -.0850757    .5883592
     event_8 |   .0318007   .2220535     0.14   0.886    -.4034162    .4670175
     event_9 |   .0691169   .2669393     0.26   0.796    -.4540745    .5923083
    event_10 |   .1051886   .3078991     0.34   0.733    -.4982826    .7086598
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |   .0459548   .2957867     0.16   0.877    -.5337765    .6256861
    event_m4 |   -.120645   .2470096    -0.49   0.625     -.604775     .363485
    event_m3 |   -.207135   .2015125    -1.03   0.304    -.6020922    .1878222
    event_m2 |  -.2503419   .1586878    -1.58   0.115    -.5613643    .0606805
    event_m1 |  -.0023739   .1415863    -0.02   0.987    -.2798779    .2751301
     event_1 |   .1474954   .1351612     1.09   0.275    -.1174157    .4124064
     event_2 |    .078434   .1715668     0.46   0.648    -.2578308    .4146988
     event_3 |  -.0559242   .1948518    -0.29   0.774    -.4378267    .3259783
     event_4 |   .0390419   .2375846     0.16   0.869    -.4266154    .5046992
     event_5 |   .0781819   .2779112     0.28   0.778     -.466514    .6228778
     event_6 |   -.166984   .3009713    -0.55   0.579    -.7568768    .4229089
     event_7 |  -.1106364   .3058381    -0.36   0.718     -.710068    .4887952
     event_8 |  -.0197698   .3399384    -0.06   0.954    -.6860368    .6464973
     event_9 |   .1477293   .3959628     0.37   0.709    -.6283435    .9238021
    event_10 |   .1453027   .4948519     0.29   0.769    -.8245892    1.115195
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |  -.2471221    .337957    -0.73   0.465    -.9095056    .4152614
    event_m4 |  -.3114463   .3062199    -1.02   0.309    -.9116263    .2887337
    event_m3 |  -.3321888   .2564424    -1.30   0.195    -.8348066    .1704291
    event_m2 |   -.162839   .1826923    -0.89   0.373    -.5209093    .1952313
    event_m1 |  -.1365191   .1725404    -0.79   0.429    -.4746922    .2016539
     event_1 |   .0765011   .1649662     0.46   0.643    -.2468267    .3998289
     event_2 |   .0142367   .2008588     0.07   0.943    -.3794393    .4079126
     event_3 |   .0144157   .2416105     0.06   0.952    -.4591322    .4879636
     event_4 |   .1628334    .271939     0.60   0.549    -.3701573     .695824
     event_5 |   .0324454   .3211449     0.10   0.920    -.5969871    .6618778
     event_6 |  -.3059891   .3264935    -0.94   0.349    -.9459046    .3339264
     event_7 |  -.3755904    .332455    -1.13   0.259     -1.02719    .2760094
     event_8 |  -.4433221   .3624124    -1.22   0.221    -1.153637    .2669931
     event_9 |  -.2570262   .4031667    -0.64   0.524    -1.047218    .5331661
    event_10 |  -.6309168   .6236551    -1.01   0.312    -1.853258    .5914248
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |  -.0842651   .0436733    -1.93   0.054    -.1698632    .0013329
    event_m4 |  -.0535166   .0351347    -1.52   0.128    -.1223793    .0153461
    event_m3 |    -.04455   .0363491    -1.23   0.220     -.115793     .026693
    event_m2 |   .0028995   .0308579     0.09   0.925    -.0575807    .0633798
    event_m1 |  -.0399405   .0246855    -1.62   0.106    -.0883233    .0084422
     event_1 |  -.0011912   .0218454    -0.05   0.957    -.0440074    .0416251
     event_2 |  -.0059895    .028423    -0.21   0.833    -.0616976    .0497186
     event_3 |  -.0371523   .0334345    -1.11   0.266    -.1026826    .0283781
     event_4 |  -.0310107   .0441887    -0.70   0.483     -.117619    .0555976
     event_5 |   .0040738   .0533676     0.08   0.939    -.1005248    .1086724
     event_6 |   .0106984   .0606411     0.18   0.860     -.108156    .1295528
     event_7 |  -.0169983   .0657684    -0.26   0.796    -.1459021    .1119054
     event_8 |   -.017404   .0709066    -0.25   0.806    -.1563783    .1215703
     event_9 |  -.0190953   .0932392    -0.20   0.838    -.2018407    .1636501
    event_10 |  -.0248791   .0833135    -0.30   0.765    -.1881706    .1384124
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |  -.0023036   .0087676    -0.26   0.793    -.0194878    .0148806
    event_m4 |   .0040097   .0099571     0.40   0.687    -.0155059    .0235254
    event_m3 |  -.0031455   .0092759    -0.34   0.735     -.021326     .015035
    event_m2 |  -.0082169   .0081059    -1.01   0.311    -.0241042    .0076703
    event_m1 |  -.0062475   .0046228    -1.35   0.177    -.0153081    .0028131
     event_1 |   .0097676   .0058315     1.67   0.094     -.001662    .0211972
     event_2 |   .0061307   .0072654     0.84   0.399    -.0081093    .0203707
     event_3 |   .0033079   .0122264     0.27   0.787    -.0206555    .0272712
     event_4 |   .0123629    .013548     0.91   0.361    -.0141907    .0389165
     event_5 |   .0164421    .016494     1.00   0.319    -.0158855    .0487698
     event_6 |   .0218103   .0237363     0.92   0.358     -.024712    .0683326
     event_7 |   .0328589    .025116     1.31   0.191    -.0163677    .0820854
     event_8 |   .0008224   .0115548     0.07   0.943    -.0218246    .0234695
     event_9 |   .0070077   .0167072     0.42   0.675    -.0257378    .0397531
    event_10 |   .0116197    .021755     0.53   0.593    -.0310193    .0542588
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |   .1058579   .0529964     2.00   0.046      .001987    .2097289
    event_m4 |   .0148511   .0333063     0.45   0.656    -.0504281    .0801303
    event_m3 |   .0280781   .0266118     1.06   0.291    -.0240801    .0802362
    event_m2 |  -.0627895    .043457    -1.44   0.148    -.1479637    .0223847
    event_m1 |   .0394434   .0323274     1.22   0.222     -.023917    .1028039
     event_1 |   .0234193   .0251226     0.93   0.351    -.0258201    .0726587
     event_2 |   .0261865   .0339631     0.77   0.441    -.0403799     .092753
     event_3 |  -.0017678   .0416071    -0.04   0.966    -.0833163    .0797807
     event_4 |  -.0491647   .0741402    -0.66   0.507    -.1944769    .0961476
     event_5 |  -.0694531   .0912045    -0.76   0.446    -.2482107    .1093045
     event_6 |  -.0939464   .0955239    -0.98   0.325    -.2811698     .093277
     event_7 |  -.0429559   .1061067    -0.40   0.686    -.2509213    .1650095
     event_8 |  -.0493118   .1535301    -0.32   0.748    -.3502253    .2516018
     event_9 |     .00606    .182012     0.03   0.973     -.350677     .362797
    event_10 |    .002216   .2204062     0.01   0.992    -.4297722    .4342042
------------------------------------------------------------------------------
  7,560

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/workspace/expat//output/figure/event_study/no_hire_
> lnL.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/no_hire_
> lnQL.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/no_hire_
> lnK.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/no_hire_
> exporter.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/no_hire_
> RperK.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/no_hire_
> TFP_cd.png written in PNG format

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0056144              0
 5%     .0120234              0
10%     .0183794              0       Obs              16,151
25%     .0418323       4.79e-27       Sum of wgt.      16,151

50%            1                      Mean           .6324701
                        Largest       Std. dev.      .4663064
75%            1              1
90%            1        1.36737       Variance       .2174416
95%            1       2.334876       Skewness      -.4768456
99%            1       2.376878       Kurtosis       1.263516
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                         Number of obs = 7,950

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |   .1688809   .1737343     0.97   0.331    -.1716321    .5093939
    event_m4 |   .1163933   .1382776     0.84   0.400    -.1546259    .3874125
    event_m3 |   .2467282   .1168428     2.11   0.035     .0177205    .4757358
    event_m2 |   .1367583   .0996021     1.37   0.170    -.0584582    .3319749
    event_m1 |  -.0352626   .0741909    -0.48   0.635    -.1806741    .1101489
     event_1 |   .2039106   .0877887     2.32   0.020     .0318479    .3759733
     event_2 |   .1947323    .104127     1.87   0.061    -.0093528    .3988174
     event_3 |    .290606     .12482     2.33   0.020     .0459632    .5352487
     event_4 |   .3800439   .1505662     2.52   0.012     .0849396    .6751482
     event_5 |   .2912222   .1641435     1.77   0.076    -.0304931    .6129375
     event_6 |   .2272754   .1766887     1.29   0.198    -.1190281    .5735788
     event_7 |   .2592224   .1795916     1.44   0.149    -.0927707    .6112155
     event_8 |   .4581923   .1990505     2.30   0.021     .0680606    .8483241
     event_9 |   .3432775   .2420595     1.42   0.156    -.1311504    .8177055
    event_10 |   .2320082   .2843835     0.82   0.415    -.3253733    .7893897
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |   .0723305   .2627879     0.28   0.783    -.4427244    .5873854
    event_m4 |    .106466   .2001215     0.53   0.595     -.285765     .498697
    event_m3 |   .0754711   .1749396     0.43   0.666    -.2674042    .4183464
    event_m2 |  -.0578148    .158033    -0.37   0.714    -.3675538    .2519242
    event_m1 |  -.2082207   .1822261    -1.14   0.253    -.5653772    .1489358
     event_1 |   .0496363   .2010864     0.25   0.805    -.3444858    .4437585
     event_2 |    .064425   .2235405     0.29   0.773    -.3737063    .5025563
     event_3 |  -.0062933   .2819878    -0.02   0.982    -.5589791    .5463926
     event_4 |  -.0777819   .2274025    -0.34   0.732    -.5234826    .3679188
     event_5 |  -.1251174   .2310596    -0.54   0.588    -.5779858     .327751
     event_6 |  -.1089557    .278214    -0.39   0.695    -.6542451    .4363338
     event_7 |  -.1072572   .2642585    -0.41   0.685    -.6251945      .41068
     event_8 |  -.2247221   .2803609    -0.80   0.423    -.7742194    .3247752
     event_9 |  -.1195487   .3174804    -0.38   0.707    -.7417988    .5027014
    event_10 |   .1550728   .3506389     0.44   0.658    -.5321667    .8423124
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |   .3390071   .3548705     0.96   0.339    -.3565264    1.034541
    event_m4 |   .2183199    .270447     0.81   0.420    -.3117465    .7483862
    event_m3 |   .3198399   .2347255     1.36   0.173    -.1402136    .7798934
    event_m2 |   .1276021   .1937469     0.66   0.510    -.2521348    .5073391
    event_m1 |  -.1267357   .1723093    -0.74   0.462    -.4644557    .2109843
     event_1 |    .243768   .2108548     1.16   0.248    -.1694998    .6570357
     event_2 |   .1594113   .2391296     0.67   0.505    -.3092741    .6280966
     event_3 |    .184734   .2953159     0.63   0.532    -.3940744    .7635425
     event_4 |   .1542521   .3042809     0.51   0.612    -.4421275    .7506317
     event_5 |   .0836453   .3099118     0.27   0.787    -.5237707    .6910613
     event_6 |  -.0364264   .3329966    -0.11   0.913    -.6890876    .6162349
     event_7 |   .1665599   .3391358     0.49   0.623    -.4981341    .8312538
     event_8 |   .2666135   .3707271     0.72   0.472    -.4599982    .9932253
     event_9 |   .1963472   .4263194     0.46   0.645    -.6392234    1.031918
    event_10 |   .1785317   .4853083     0.37   0.713    -.7726551    1.129718
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |   -.051994   .0482482    -1.08   0.281    -.1465586    .0425707
    event_m4 |   -.038793   .0430768    -0.90   0.368    -.1232219     .045636
    event_m3 |  -.0513941   .0395844    -1.30   0.194    -.1289781      .02619
    event_m2 |  -.0449581   .0354542    -1.27   0.205    -.1144471    .0245308
    event_m1 |   -.087481   .0327345    -2.67   0.008    -.1516394   -.0233226
     event_1 |   .0986115   .0288776     3.41   0.001     .0420125    .1552105
     event_2 |    .070194   .0324465     2.16   0.031        .0066    .1337881
     event_3 |   .0978868   .0391863     2.50   0.012      .021083    .1746905
     event_4 |    .037133   .0385151     0.96   0.335    -.0383553    .1126212
     event_5 |   .0638006   .0423849     1.51   0.132    -.0192723    .1468735
     event_6 |   .0044465   .0500929     0.09   0.929    -.0937338    .1026268
     event_7 |   .0102389   .0550261     0.19   0.852    -.0976103    .1180881
     event_8 |   .0305748   .0621687     0.49   0.623    -.0912736    .1524231
     event_9 |   .0195834    .073257     0.27   0.789    -.1239978    .1631645
    event_10 |   .0300639   .0806443     0.37   0.709    -.1279961    .1881239
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |   .0345953   .0200411     1.73   0.084    -.0046845    .0738751
    event_m4 |   .0004656   .0117692     0.04   0.968    -.0226017    .0235328
    event_m3 |  -.0067779   .0097883    -0.69   0.489    -.0259626    .0124067
    event_m2 |  -.0069596   .0075909    -0.92   0.359    -.0218376    .0079183
    event_m1 |   .0106686   .0081827     1.30   0.192    -.0053692    .0267064
     event_1 |   .0059733   .0059276     1.01   0.314    -.0056446    .0175912
     event_2 |   .0228301   .0099934     2.28   0.022     .0032434    .0424168
     event_3 |   .0142058   .0105678     1.34   0.179    -.0065067    .0349183
     event_4 |   .0022408    .009799     0.23   0.819     -.016965    .0214465
     event_5 |    .000358   .0106907     0.03   0.973    -.0205953    .0213113
     event_6 |    .009717   .0131881     0.74   0.461    -.0161311    .0355652
     event_7 |   .0021122   .0137291     0.15   0.878    -.0247964    .0290208
     event_8 |   .0218025   .0176648     1.23   0.217    -.0128198    .0564248
     event_9 |   .0271711   .0197251     1.38   0.168    -.0114893    .0658315
    event_10 |   .0274933   .0204915     1.34   0.180    -.0126693     .067656
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |   .0664365   .0499798     1.33   0.184    -.0315221    .1643951
    event_m4 |   .0971484    .046751     2.08   0.038      .005518    .1887787
    event_m3 |   .0641354   .0355251     1.81   0.071    -.0054924    .1337633
    event_m2 |   -.025847   .0436183    -0.59   0.553    -.1113373    .0596433
    event_m1 |  -.0399528   .0389181    -1.03   0.305    -.1162308    .0363252
     event_1 |   .0149191   .0392467     0.38   0.704     -.062003    .0918412
     event_2 |   .0153374    .041708     0.37   0.713    -.0664088    .0970835
     event_3 |   .0078295    .042367     0.18   0.853    -.0752083    .0908673
     event_4 |  -.0591445   .0427995    -1.38   0.167    -.1430301     .024741
     event_5 |  -.0978485   .0471153    -2.08   0.038    -.1901927   -.0055043
     event_6 |  -.1389494   .0626146    -2.22   0.026    -.2616718   -.0162271
     event_7 |  -.1325612    .063421    -2.09   0.037    -.2568641   -.0082583
     event_8 |  -.1974639   .0691108    -2.86   0.004    -.3329185   -.0620093
     event_9 |  -.2217787   .0690686    -3.21   0.001    -.3571507   -.0864067
    event_10 |  -.1128348    .066354    -1.70   0.089    -.2428863    .0172167
------------------------------------------------------------------------------
  7,950

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/workspace/expat//output/figure/event_study/local_hi
> re_lnL.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/local_hi
> re_lnQL.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/local_hi
> re_lnK.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/local_hi
> re_exporter.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/local_hi
> re_RperK.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/local_hi
> re_TFP_cd.png written in PNG format

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0148901       .0016497
 5%     .0251628       .0031471
10%     .0372615       .0034002       Obs              16,151
25%     .0756178       .0047091       Sum of wgt.      16,151

50%            1                      Mean           .6547425
                        Largest       Std. dev.       .448961
75%            1              1
90%            1              1       Variance       .2015659
95%            1              1       Skewness      -.5437058
99%            1              1       Kurtosis        1.31704
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                         Number of obs = 9,843

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |   .1808646   .1162735     1.56   0.120    -.0470272    .4087564
    event_m4 |   .1431667   .1060598     1.35   0.177    -.0647068    .3510402
    event_m3 |   .0993346   .1070453     0.93   0.353    -.1104703    .3091394
    event_m2 |   .0659562   .0742077     0.89   0.374    -.0794882    .2114005
    event_m1 |  -.0039564   .0488108    -0.08   0.935    -.0996239    .0917111
     event_1 |   .1276461   .0668077     1.91   0.056    -.0032945    .2585867
     event_2 |   .1682162   .0737184     2.28   0.022     .0237308    .3127017
     event_3 |   .1831852   .0863209     2.12   0.034     .0139994     .352371
     event_4 |     .28092   .0972176     2.89   0.004     .0903771     .471463
     event_5 |   .2969623    .110711     2.68   0.007     .0799728    .5139518
     event_6 |   .3543548   .1198607     2.96   0.003     .1194322    .5892774
     event_7 |   .3958713   .1275178     3.10   0.002     .1459411    .6458015
     event_8 |   .3869153   .1315021     2.94   0.003     .1291759    .6446546
     event_9 |   .4822187   .1504403     3.21   0.001     .1873611    .7770764
    event_10 |   .3909292   .1742365     2.24   0.025     .0494319    .7324264
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |   .1975695   .1916583     1.03   0.303    -.1780739     .573213
    event_m4 |   .1887891   .1463353     1.29   0.197    -.0980228    .4756011
    event_m3 |   .0512451   .1466318     0.35   0.727    -.2361479    .3386381
    event_m2 |   .1210184   .1187612     1.02   0.308    -.1117493    .3537862
    event_m1 |   .0774918   .0988376     0.78   0.433    -.1162262    .2712099
     event_1 |   .0836505   .1186952     0.70   0.481    -.1489879    .3162889
     event_2 |   .2331557   .1359162     1.72   0.086    -.0332353    .4995466
     event_3 |   .2611733    .154044     1.70   0.090    -.0407473     .563094
     event_4 |   .2769624   .1620578     1.71   0.087     -.040665    .5945898
     event_5 |   .2607274   .1758402     1.48   0.138     -.083913    .6053678
     event_6 |   .3215909   .1816122     1.77   0.077    -.0343626    .6775443
     event_7 |   .3235254   .2056423     1.57   0.116    -.0795261    .7265769
     event_8 |   .2803649   .2215569     1.27   0.206    -.1538785    .7146084
     event_9 |   .3298742   .2299999     1.43   0.152    -.1209173    .7806656
    event_10 |   .3463161   .2599052     1.33   0.183    -.1630888    .8557209
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |    .297882   .2459933     1.21   0.226    -.1842559    .7800199
    event_m4 |   .3109831   .2093967     1.49   0.138    -.0994268    .7213931
    event_m3 |   .1133288    .201615     0.56   0.574    -.2818293    .5084868
    event_m2 |    .123157   .1493244     0.82   0.410    -.1695134    .4158274
    event_m1 |    .064532   .1150491     0.56   0.575    -.1609602    .2900241
     event_1 |   .1042197   .1483356     0.70   0.482    -.1865128    .3949522
     event_2 |   .1743776   .1701992     1.02   0.306    -.1592068    .5079619
     event_3 |   .1484553   .1876161     0.79   0.429    -.2192655     .516176
     event_4 |   .2059165   .1971051     1.04   0.296    -.1804024    .5922354
     event_5 |   .2591353   .2178997     1.19   0.234    -.1679403    .6862108
     event_6 |   .3369083   .2320024     1.45   0.146    -.1178081    .7916246
     event_7 |    .325683   .2536527     1.28   0.199    -.1714671     .822833
     event_8 |   .1413986   .2659464     0.53   0.595    -.3798468    .6626439
     event_9 |   .2581631   .2886842     0.89   0.371    -.3076474    .8239737
    event_10 |   .1491838   .3401105     0.44   0.661    -.5174204    .8157881
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |    .035023   .0355011     0.99   0.324    -.0345579    .1046039
    event_m4 |  -.0434727   .0352686    -1.23   0.218    -.1125979    .0256525
    event_m3 |   .0269534   .0309058     0.87   0.383    -.0336208    .0875276
    event_m2 |  -.0102526   .0277926    -0.37   0.712    -.0647252    .0442199
    event_m1 |   .0029083   .0223826     0.13   0.897    -.0409608    .0467774
     event_1 |   .1598055   .0209288     7.64   0.000     .1187859    .2008251
     event_2 |   .1567414   .0251497     6.23   0.000     .1074488     .206034
     event_3 |   .1581902   .0283794     5.57   0.000     .1025676    .2138129
     event_4 |     .18151   .0322849     5.62   0.000     .1182328    .2447872
     event_5 |    .192833   .0363205     5.31   0.000     .1216461    .2640199
     event_6 |    .183896   .0368236     4.99   0.000      .111723     .256069
     event_7 |   .1649673   .0403723     4.09   0.000      .085839    .2440956
     event_8 |   .1620968   .0392774     4.13   0.000     .0851145    .2390791
     event_9 |    .168116   .0406777     4.13   0.000     .0883892    .2478427
    event_10 |   .1519521    .042899     3.54   0.000     .0678717    .2360325
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |  -.0017356   .0064944    -0.27   0.789    -.0144644    .0109933
    event_m4 |   .0048867   .0080725     0.61   0.545    -.0109351    .0207084
    event_m3 |  -.0028978   .0078737    -0.37   0.713      -.01833    .0125344
    event_m2 |  -.0037965   .0057962    -0.66   0.512     -.015157    .0075639
    event_m1 |   .0008856   .0034249     0.26   0.796    -.0058272    .0075983
     event_1 |    .011225   .0048016     2.34   0.019      .001814    .0206359
     event_2 |   .0099451   .0060967     1.63   0.103    -.0020043    .0218945
     event_3 |   .0124947   .0072232     1.73   0.084    -.0016626     .026652
     event_4 |   .0112455    .008097     1.39   0.165    -.0046244    .0271153
     event_5 |    .004445     .00788     0.56   0.573    -.0109996    .0198895
     event_6 |   .0081701   .0083504     0.98   0.328    -.0081963    .0245365
     event_7 |   .0081025    .009415     0.86   0.389    -.0103506    .0265556
     event_8 |  -.0007041   .0088255    -0.08   0.936    -.0180017    .0165935
     event_9 |   .0010929    .009291     0.12   0.906    -.0171171    .0193029
    event_10 |     .00222   .0098125     0.23   0.821    -.0170122    .0214521
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |    .090145   .0467141     1.93   0.054    -.0014129    .1817029
    event_m4 |    .101537   .0378611     2.68   0.007     .0273307    .1757434
    event_m3 |    .042832   .0383664     1.12   0.264    -.0323648    .1180288
    event_m2 |   .0075031   .0414945     0.18   0.857    -.0738246    .0888307
    event_m1 |   .0234917   .0322227     0.73   0.466    -.0396637     .086647
     event_1 |   .0335934   .0318802     1.05   0.292    -.0288906    .0960775
     event_2 |   .0525329     .03652     1.44   0.150    -.0190451    .1241108
     event_3 |    .076008   .0365972     2.08   0.038     .0042788    .1477372
     event_4 |   .0778335   .0419955     1.85   0.064    -.0044763    .1601432
     event_5 |   .0628646   .0430169     1.46   0.144     -.021447    .1471762
     event_6 |   .0444605   .0408642     1.09   0.277    -.0356319    .1245529
     event_7 |   .0008905   .0458723     0.02   0.985    -.0890175    .0907986
     event_8 |  -.0107937   .0490706    -0.22   0.826    -.1069703    .0853829
     event_9 |   .0047549    .053561     0.09   0.929    -.1002227    .1097325
    event_10 |  -.0091946   .0579346    -0.16   0.874    -.1227444    .1043552
------------------------------------------------------------------------------
  9,843

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/workspace/expat//output/figure/event_study/expat_hi
> re_lnL.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/expat_hi
> re_lnQL.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/expat_hi
> re_lnK.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/expat_hi
> re_exporter.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/expat_hi
> re_RperK.png written in PNG format
file /Users/koren/Documents/workspace/expat//output/figure/event_study/expat_hi
> re_TFP_cd.png written in PNG format

. 
. log close
      name:  <unnamed>
       log:  /Users/koren/Documents/workspace/expat//output/event_studies.log
  log type:  text
 closed on:   6 May 2022, 19:48:44
-------------------------------------------------------------------------------
