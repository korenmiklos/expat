-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/koren/Documents/expat-geneva//output/event_studies.log
  log type:  text
 opened on:   7 May 2022, 08:26:17

. 
. local pre 5

. local post 10

. local vars lnL lnQL lnK exporter RperK TFP_cd

. local controls lnQ lnL exporter

. 
. use "`here'/temp/analysis_sample.dta", clear

. keep if ever_foreign
(0 observations deleted)

. 
. count
  23,104

. 
. rename has_expat_ceo expat_hire

. generate local_hire = foreign_hire & !expat_hire

. generate no_hire = foreign & !foreign_hire

. 
. 
. foreach treatment in no_hire local_hire expat_hire {
  2.     attgt `vars', treatment(`treatment') aggregate(e) pre(`pre') post(`pos
> t') notyet limitcontrol(foreign == 0) ipw(`controls')
  3.     count if e(sample) == 1
  4.     do "`here'/code/util/event_study_plot.do"
  5.     foreach outcome in `vars' {
  6.         graph display `outcome'
  7.         graph export "`here'/output/figure/event_study/`treatment'_`outcom
> e'.png", replace
  8.         graph drop `outcome'
  9.     }
 10. }

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%      .005464       .0000248
 5%     .0144672       .0000996
10%     .0194431       .0001379       Obs              23,104
25%     .0434891       .0001732       Sum of wgt.      23,104

50%            1                      Mean           .6074091
                        Largest       Std. dev.      .4710576
75%            1       2.261436
90%            1       2.326534       Variance       .2218953
95%            1        3.45441       Skewness      -.3267233
99%            1       4.390793       Kurtosis       1.387893
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                        Number of obs = 11,451

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |   .0018565   .0980172     0.02   0.985    -.1902535    .1939666
    event_m4 |   .0830734   .0943316     0.88   0.379     -.101813    .2679599
    event_m3 |  -.0110479    .074722    -0.15   0.882    -.1575003    .1354045
    event_m2 |   .0384717   .0512748     0.75   0.453    -.0620251    .1389686
    event_m1 |  -.0283895   .0367275    -0.77   0.440     -.100374     .043595
     event_1 |  -.0386887    .042452    -0.91   0.362    -.1218931    .0445157
     event_2 |  -.0042411    .061008    -0.07   0.945    -.1238146    .1153325
     event_3 |  -.0639106   .0692889    -0.92   0.356    -.1997142    .0718931
     event_4 |  -.0142808   .0912926    -0.16   0.876    -.1932111    .1646494
     event_5 |  -.0739528   .1014248    -0.73   0.466    -.2727418    .1248362
     event_6 |   .0123932   .1261803     0.10   0.922    -.2349157    .2597021
     event_7 |   .0900587   .1350103     0.67   0.505    -.1745566    .3546739
     event_8 |  -.1373824     .18262    -0.75   0.452    -.4953111    .2205464
     event_9 |  -.0878782    .208659    -0.42   0.674    -.4968424    .3210859
    event_10 |  -.0900012   .2768127    -0.33   0.745    -.6325441    .4525417
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |   .0761904     .15066     0.51   0.613    -.2190978    .3714787
    event_m4 |  -.0224491    .162027    -0.14   0.890    -.3400162     .295118
    event_m3 |   .0473591   .1288511     0.37   0.713    -.2051844    .2999026
    event_m2 |  -.0427763   .0934054    -0.46   0.647    -.2258475    .1402949
    event_m1 |  -.0112483   .0816315    -0.14   0.890    -.1712432    .1487465
     event_1 |    .122619   .0941132     1.30   0.193    -.0618396    .3070775
     event_2 |   .0997782   .1230176     0.81   0.417    -.1413318    .3408883
     event_3 |   .0227366   .1414223     0.16   0.872     -.254446    .2999191
     event_4 |   .0541089    .175099     0.31   0.757    -.2890788    .3972966
     event_5 |   .0072768   .1798074     0.04   0.968    -.3451392    .3596929
     event_6 |  -.1978663    .195965    -1.01   0.313    -.5819507     .186218
     event_7 |  -.1222898   .1976992    -0.62   0.536    -.5097731    .2651936
     event_8 |  -.0085184   .2436844    -0.03   0.972    -.4861309    .4690942
     event_9 |   .0704798   .2269254     0.31   0.756    -.3742858    .5152453
    event_10 |   .0704844    .280887     0.25   0.802     -.480044    .6210128
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |   .0791407   .1895614     0.42   0.676    -.2923927    .4506742
    event_m4 |   .1517696   .2018453     0.75   0.452    -.2438399     .547379
    event_m3 |   .0148016   .1590293     0.09   0.926      -.29689    .3264932
    event_m2 |  -.0591506   .1118942    -0.53   0.597    -.2784592     .160158
    event_m1 |  -.0041698   .0918485    -0.05   0.964    -.1841897      .17585
     event_1 |  -.0166497   .0994597    -0.17   0.867    -.2115871    .1782876
     event_2 |  -.0576468   .1392658    -0.41   0.679    -.3306028    .2153092
     event_3 |  -.0890749   .1706831    -0.52   0.602    -.4236077    .2454578
     event_4 |  -.0322932   .1926955    -0.17   0.867    -.4099693     .345383
     event_5 |  -.1765746   .2069079    -0.85   0.393    -.5821066    .2289574
     event_6 |  -.1145448   .2462725    -0.47   0.642      -.59723    .3681404
     event_7 |  -.0140771    .237999    -0.06   0.953    -.4805467    .4523924
     event_8 |  -.0634243   .2819366    -0.22   0.822    -.6160099    .4891612
     event_9 |   -.006253   .3160316    -0.02   0.984    -.6256636    .6131575
    event_10 |  -.1772122   .3818386    -0.46   0.643    -.9256021    .5711776
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |  -.0168948   .0330208    -0.51   0.609    -.0816145    .0478248
    event_m4 |   .0191701   .0286432     0.67   0.503    -.0369695    .0753097
    event_m3 |    .005711   .0267429     0.21   0.831    -.0467041    .0581261
    event_m2 |   .0355704   .0228139     1.56   0.119    -.0091441    .0802849
    event_m1 |  -.0287185   .0180504    -1.59   0.112    -.0640967    .0066597
     event_1 |   .0042838   .0193042     0.22   0.824    -.0335517    .0421193
     event_2 |    .023804    .023619     1.01   0.314    -.0224885    .0700964
     event_3 |   .0154901   .0314541     0.49   0.622    -.0461588     .077139
     event_4 |  -.0242146   .0357301    -0.68   0.498    -.0942442    .0458151
     event_5 |    -.02929   .0410863    -0.71   0.476    -.1098177    .0512376
     event_6 |   .0195624   .0524745     0.37   0.709    -.0832857    .1224105
     event_7 |   .0145357   .0550082     0.26   0.792    -.0932785    .1223499
     event_8 |   .0496901    .057984     0.86   0.391    -.0639565    .1633367
     event_9 |   .0030156   .0820686     0.04   0.971    -.1578358     .163867
    event_10 |   .0067432   .0876465     0.08   0.939    -.1650408    .1785272
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |  -.0029077   .0067859    -0.43   0.668    -.0162078    .0103924
    event_m4 |  -.0065672   .0059615    -1.10   0.271    -.0182516    .0051172
    event_m3 |  -.0063099   .0053144    -1.19   0.235    -.0167259    .0041062
    event_m2 |  -.0067481   .0054138    -1.25   0.213    -.0173589    .0038627
    event_m1 |   -.002072   .0046155    -0.45   0.653    -.0111183    .0069743
     event_1 |   .0058173   .0045073     1.29   0.197    -.0030168    .0146513
     event_2 |   .0066097   .0062636     1.06   0.291    -.0056668    .0188862
     event_3 |   .0086805    .009171     0.95   0.344    -.0092943    .0266553
     event_4 |   .0299454   .0130679     2.29   0.022     .0043329    .0555579
     event_5 |   .0094493   .0133392     0.71   0.479    -.0166952    .0355937
     event_6 |  -.0021067   .0175576    -0.12   0.904     -.036519    .0323056
     event_7 |   .0077011   .0148887     0.52   0.605    -.0214803    .0368825
     event_8 |   .0026534   .0140375     0.19   0.850    -.0248595    .0301664
     event_9 |    .019733   .0195405     1.01   0.313    -.0185657    .0580317
    event_10 |   .0185276   .0145261     1.28   0.202    -.0099431    .0469983
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |   .0114367   .0431005     0.27   0.791    -.0730388    .0959121
    event_m4 |  -.0127556   .0271981    -0.47   0.639    -.0660629    .0405517
    event_m3 |   .0064706   .0244388     0.26   0.791    -.0414287    .0543698
    event_m2 |  -.0089488   .0242945    -0.37   0.713    -.0565651    .0386675
    event_m1 |   .0032411   .0203648     0.16   0.874    -.0366731    .0431554
     event_1 |   .0015888   .0170675     0.09   0.926    -.0318628    .0350404
     event_2 |  -.0036818   .0272857    -0.13   0.893    -.0571608    .0497972
     event_3 |  -.0054117   .0299655    -0.18   0.857    -.0641429    .0533196
     event_4 |  -.0717801   .0507046    -1.42   0.157    -.1711594    .0275991
     event_5 |  -.1140037   .0570456    -2.00   0.046    -.2258111   -.0021963
     event_6 |  -.1389728   .0574422    -2.42   0.016    -.2515574   -.0263881
     event_7 |  -.1290958   .0565314    -2.28   0.022    -.2398953   -.0182962
     event_8 |   -.142396    .077757    -1.83   0.067    -.2947968    .0100049
     event_9 |  -.0984681   .0815726    -1.21   0.227    -.2583475    .0614113
    event_10 |  -.1246457   .1001324    -1.24   0.213    -.3209016    .0716102
------------------------------------------------------------------------------
  11,451

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/expat-geneva//output/figure/event_study/no_hire_lnL
> .png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/no_hire_lnQ
> L.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/no_hire_lnK
> .png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/no_hire_exp
> orter.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/no_hire_Rpe
> rK.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/no_hire_TFP
> _cd.png written in PNG format

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0085256       1.17e-07
 5%     .0202153       1.79e-07
10%     .0268118       3.20e-07       Obs              23,104
25%     .0506706       8.48e-07       Sum of wgt.      23,104

50%            1                      Mean           .6094365
                        Largest       Std. dev.      .4683156
75%            1              1
90%            1              1       Variance       .2193195
95%            1       1.051292       Skewness      -.3476232
99%            1       4.156742       Kurtosis       1.280606
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                        Number of obs = 12,555

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |   .2871316   .0931702     3.08   0.002     .1045214    .4697418
    event_m4 |    .123841   .0836918     1.48   0.139    -.0401919    .2878738
    event_m3 |   .2341998   .0698484     3.35   0.001     .0972994    .3711003
    event_m2 |   .0998843   .0535326     1.87   0.062    -.0050376    .2048062
    event_m1 |   .0202309    .041823     0.48   0.629    -.0617407    .1022025
     event_1 |   .1038951    .059689     1.74   0.082    -.0130932    .2208833
     event_2 |   .0695866   .0761741     0.91   0.361    -.0797119     .218885
     event_3 |    .082827   .0918586     0.90   0.367    -.0972126    .2628666
     event_4 |   .1670583    .117211     1.43   0.154     -.062671    .3967876
     event_5 |   .0796222   .1213812     0.66   0.512    -.1582805    .3175249
     event_6 |   .0808395   .1335395     0.61   0.545    -.1808931     .342572
     event_7 |   .0965336   .1599215     0.60   0.546    -.2169067    .4099739
     event_8 |   .1746819   .1788646     0.98   0.329    -.1758862      .52525
     event_9 |   .0676226   .2078085     0.33   0.745    -.3396746    .4749198
    event_10 |   .2710325   .2229174     1.22   0.224    -.1658777    .7079427
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |  -.1432991   .1429755    -1.00   0.316    -.4235259    .1369276
    event_m4 |   .0096315    .144457     0.07   0.947    -.2734991    .2927621
    event_m3 |  -.0722962   .1442192    -0.50   0.616    -.3549606    .2103682
    event_m2 |  -.0870867   .1032598    -0.84   0.399    -.2894721    .1152987
    event_m1 |  -.0790202   .1072635    -0.74   0.461    -.2892528    .1312124
     event_1 |   .1298744   .1218422     1.07   0.286     -.108932    .3686807
     event_2 |   .0460489   .1402614     0.33   0.743    -.2288585    .3209563
     event_3 |   .0562467   .1844011     0.31   0.760    -.3051727    .4176662
     event_4 |  -.0831653   .1434618    -0.58   0.562    -.3643452    .1980147
     event_5 |  -.0324386   .1459811    -0.22   0.824    -.3185563    .2536792
     event_6 |     .13434   .1658182     0.81   0.418    -.1906577    .4593377
     event_7 |   .0532903   .1803922     0.30   0.768    -.3002718    .4068525
     event_8 |   .1028219   .1975716     0.52   0.603    -.2844113    .4900551
     event_9 |    .201846   .2257706     0.89   0.371    -.2406562    .6443482
    event_10 |   .1104742   .2365761     0.47   0.641    -.3532065    .5741549
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |   .2246685   .1683486     1.33   0.182    -.1052887    .5546257
    event_m4 |   .0969205   .1602305     0.60   0.545    -.2171256    .4109665
    event_m3 |   .1441027   .1522353     0.95   0.344     -.154273    .4424785
    event_m2 |   .0479855   .1222118     0.39   0.695    -.1915453    .2875163
    event_m1 |  -.0306791   .1013636    -0.30   0.762    -.2293481      .16799
     event_1 |   .0998299   .1216889     0.82   0.412    -.1386761    .3383358
     event_2 |  -.0850416   .1382083    -0.62   0.538    -.3559249    .1858417
     event_3 |  -.0978804   .1803111    -0.54   0.587    -.4512837    .2555229
     event_4 |  -.1654701   .2022404    -0.82   0.413     -.561854    .2309137
     event_5 |  -.3007995   .2027139    -1.48   0.138    -.6981114    .0965124
     event_6 |  -.1896151   .2111518    -0.90   0.369    -.6034651    .2242349
     event_7 |  -.1662798   .2311815    -0.72   0.472    -.6193872    .2868276
     event_8 |  -.1729937   .2706146    -0.64   0.523    -.7033885    .3574011
     event_9 |  -.2864027   .2979102    -0.96   0.336    -.8702958    .2974905
    event_10 |  -.2830832   .3442463    -0.82   0.411    -.9577936    .3916272
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |  -.0428717   .0289086    -1.48   0.138    -.0995314    .0137881
    event_m4 |  -.0178709   .0306676    -0.58   0.560    -.0779782    .0422364
    event_m3 |  -.0291971   .0246894    -1.18   0.237    -.0775873    .0191932
    event_m2 |  -.0382096   .0224998    -1.70   0.089    -.0823084    .0058891
    event_m1 |  -.0440443   .0194938    -2.26   0.024    -.0822515   -.0058371
     event_1 |   .0210855   .0178455     1.18   0.237     -.013891     .056062
     event_2 |   .0153072   .0218157     0.70   0.483    -.0274507    .0580651
     event_3 |  -.0036031   .0278793    -0.13   0.897    -.0582454    .0510393
     event_4 |  -.0148097   .0286602    -0.52   0.605    -.0709826    .0413632
     event_5 |  -.0022404   .0337889    -0.07   0.947    -.0684655    .0639847
     event_6 |  -.0303988   .0334589    -0.91   0.364     -.095977    .0351793
     event_7 |  -.0037802   .0372347    -0.10   0.919    -.0767589    .0691985
     event_8 |   .0364532   .0416837     0.87   0.382    -.0452452    .1181517
     event_9 |   .0235995   .0478884     0.49   0.622      -.07026    .1174591
    event_10 |   .0152669   .0517369     0.30   0.768    -.0861356    .1166695
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |   .0118629   .0086865     1.37   0.172    -.0051623    .0288881
    event_m4 |  -.0020624   .0062852    -0.33   0.743    -.0143811    .0102564
    event_m3 |   -.010589   .0054506    -1.94   0.052    -.0212719     .000094
    event_m2 |  -.0017326    .005567    -0.31   0.756    -.0126437    .0091786
    event_m1 |  -.0004655   .0056318    -0.08   0.934    -.0115036    .0105726
     event_1 |   .0021436   .0040056     0.54   0.593    -.0057073    .0099944
     event_2 |   .0127609   .0056745     2.25   0.025      .001639    .0238828
     event_3 |   .0105418   .0079244     1.33   0.183    -.0049898    .0260734
     event_4 |   .0118869   .0097861     1.21   0.224    -.0072934    .0310673
     event_5 |   .0238231   .0119504     1.99   0.046     .0004008    .0472454
     event_6 |    .009593   .0114972     0.83   0.404    -.0129411    .0321272
     event_7 |   .0035202   .0127049     0.28   0.782    -.0213809    .0284213
     event_8 |   .0194442    .014242     1.37   0.172    -.0084695    .0473579
     event_9 |   .0144866   .0155651     0.93   0.352    -.0160205    .0449937
    event_10 |   .0154524   .0175715     0.88   0.379    -.0189871    .0498919
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |   -.062965   .0412368    -1.53   0.127    -.1437876    .0178576
    event_m4 |  -.0110462   .0386231    -0.29   0.775     -.086746    .0646537
    event_m3 |  -.0426904   .0319062    -1.34   0.181    -.1052253    .0198446
    event_m2 |   -.074384   .0265543    -2.80   0.005    -.1264295   -.0223385
    event_m1 |  -.0365421   .0258422    -1.41   0.157    -.0871918    .0141077
     event_1 |   .0294111   .0203653     1.44   0.149    -.0105042    .0693264
     event_2 |    .001617   .0255347     0.06   0.950    -.0484302    .0516641
     event_3 |   .0169305   .0281163     0.60   0.547    -.0381764    .0720374
     event_4 |  -.0397938   .0344129    -1.16   0.248    -.1072418    .0276542
     event_5 |  -.0684787    .041821    -1.64   0.102    -.1504464    .0134889
     event_6 |  -.0631914   .0457287    -1.38   0.167    -.1528181    .0264352
     event_7 |  -.0871095   .0611494    -1.42   0.154    -.2069601    .0327411
     event_8 |  -.0795185   .0662203    -1.20   0.230    -.2093079    .0502709
     event_9 |  -.0803937   .0706796    -1.14   0.255    -.2189231    .0581358
    event_10 |  -.0967331   .0819344    -1.18   0.238    -.2573217    .0638554
------------------------------------------------------------------------------
  12,555

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/expat-geneva//output/figure/event_study/local_hire_
> lnL.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/local_hire_
> lnQL.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/local_hire_
> lnK.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/local_hire_
> exporter.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/local_hire_
> RperK.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/local_hire_
> TFP_cd.png written in PNG format

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0097604       .0003841
 5%     .0182118       .0007063
10%     .0294942       .0007238       Obs              23,104
25%     .0620921       .0008048       Sum of wgt.      23,104

50%            1                      Mean           .6169829
                        Largest       Std. dev.      .4624429
75%            1              1
90%            1              1       Variance       .2138535
95%            1              1       Skewness      -.3871684
99%            1              1       Kurtosis       1.164022
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                        Number of obs = 14,263

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |   .1745994   .0933158     1.87   0.061    -.0082962     .357495
    event_m4 |   .1046652   .0873047     1.20   0.231    -.0664488    .2757792
    event_m3 |   .0218011   .0743648     0.29   0.769    -.1239513    .1675535
    event_m2 |   .0568976   .0636343     0.89   0.371    -.0678233    .1816184
    event_m1 |   .0010119   .0350654     0.03   0.977    -.0677149    .0697388
     event_1 |   .2573131   .0612878     4.20   0.000     .1371912     .377435
     event_2 |   .2606227   .0726196     3.59   0.000     .1182909    .4029545
     event_3 |     .28885   .0840054     3.44   0.001     .1242024    .4534976
     event_4 |   .3011442    .096538     3.12   0.002     .1119333    .4903552
     event_5 |   .3077814   .1084006     2.84   0.005     .0953203    .5202426
     event_6 |   .3089987   .1177148     2.62   0.009      .078282    .5397154
     event_7 |   .2975776   .1290193     2.31   0.021     .0447043    .5504508
     event_8 |   .3121142   .1369039     2.28   0.023     .0437875    .5804409
     event_9 |   .3950373   .1418257     2.79   0.005      .117064    .6730106
    event_10 |   .3526504   .1530867     2.30   0.021     .0526059    .6526949
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |   .2950743    .135349     2.18   0.029      .029795    .5603536
    event_m4 |   .2266702   .1195262     1.90   0.058    -.0075968    .4609373
    event_m3 |   .0800686    .113228     0.71   0.479    -.1418542    .3019913
    event_m2 |   .0175141   .1100081     0.16   0.874    -.1980979    .2331261
    event_m1 |   .0642887   .0734884     0.87   0.382    -.0797459    .2083232
     event_1 |   .1751456    .106328     1.65   0.100    -.0332535    .3835448
     event_2 |   .3161682   .1220154     2.59   0.010     .0770224     .555314
     event_3 |   .3710335   .1331976     2.79   0.005      .109971     .632096
     event_4 |   .3195445   .1484694     2.15   0.031     .0285499    .6105391
     event_5 |   .2653956   .1578918     1.68   0.093    -.0440667    .5748578
     event_6 |   .3231334   .1688623     1.91   0.056    -.0078307    .6540974
     event_7 |   .3993979   .1803031     2.22   0.027     .0460104    .7527854
     event_8 |    .375911   .2085251     1.80   0.071    -.0327906    .7846126
     event_9 |   .3850291   .2154178     1.79   0.074     -.037182    .8072402
    event_10 |   .4454918   .2285294     1.95   0.051    -.0024177    .8934013
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |   .4291265   .1737305     2.47   0.014      .088621     .769632
    event_m4 |   .3151709   .1680175     1.88   0.061    -.0141373    .6444792
    event_m3 |   .0991207   .1517607     0.65   0.514    -.1983248    .3965661
    event_m2 |    .117511   .1295143     0.91   0.364    -.1363323    .3713543
    event_m1 |   .1489282   .0890714     1.67   0.095    -.0256486    .3235049
     event_1 |   .2914769   .1355808     2.15   0.032     .0257435    .5572103
     event_2 |   .3388803   .1574466     2.15   0.031     .0302907    .6474698
     event_3 |   .3392394   .1798113     1.89   0.059    -.0131844    .6916632
     event_4 |   .2941657   .2050069     1.43   0.151    -.1076404    .6959718
     event_5 |   .2929212   .2190583     1.34   0.181    -.1364252    .7222676
     event_6 |     .27388   .2335604     1.17   0.241      -.18389      .73165
     event_7 |   .2864017   .2473184     1.16   0.247    -.1983335     .771137
     event_8 |   .1617827   .2755103     0.59   0.557    -.3782076     .701773
     event_9 |   .2148023   .2889094     0.74   0.457    -.3514497    .7810542
    event_10 |   .1433008     .30306     0.47   0.636    -.4506858    .7372874
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |   .0024091   .0324193     0.07   0.941    -.0611317    .0659498
    event_m4 |  -.0493902   .0297933    -1.66   0.097     -.107784    .0090037
    event_m3 |   .0079342   .0242299     0.33   0.743    -.0395555    .0554239
    event_m2 |  -.0118838   .0229205    -0.52   0.604     -.056807    .0330395
    event_m1 |  -.0087866   .0188238    -0.47   0.641    -.0456806    .0281074
     event_1 |     .19297   .0169201    11.40   0.000     .1598073    .2261327
     event_2 |   .1962934   .0214598     9.15   0.000      .154233    .2383537
     event_3 |   .2090417   .0233399     8.96   0.000     .1632964     .254787
     event_4 |   .2102643   .0272553     7.71   0.000      .156845    .2636836
     event_5 |    .219733   .0279981     7.85   0.000     .1648577    .2746082
     event_6 |   .2294891   .0286416     8.01   0.000     .1733526    .2856255
     event_7 |   .2047456   .0314739     6.51   0.000     .1430578    .2664333
     event_8 |   .2184452   .0307902     7.09   0.000     .1580975    .2787929
     event_9 |   .2187988    .037209     5.88   0.000     .1458705    .2917272
    event_10 |   .2135411    .038993     5.48   0.000     .1371162    .2899659
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |  -.0045465   .0062284    -0.73   0.465     -.016754     .007661
    event_m4 |   .0031426   .0070153     0.45   0.654    -.0106071    .0168924
    event_m3 |  -.0048655   .0059285    -0.82   0.412     -.016485    .0067541
    event_m2 |   -.006086   .0047871    -1.27   0.204    -.0154686    .0032966
    event_m1 |  -.0025252   .0035492    -0.71   0.477    -.0094815    .0044311
     event_1 |   .0062798   .0037172     1.69   0.091    -.0010057    .0135653
     event_2 |   .0067472    .005066     1.33   0.183    -.0031819    .0166763
     event_3 |   .0070148   .0059989     1.17   0.242    -.0047427    .0187724
     event_4 |   .0099397   .0071182     1.40   0.163    -.0040117    .0238911
     event_5 |   .0007423   .0071327     0.10   0.917    -.0132376    .0147222
     event_6 |   .0081454   .0082086     0.99   0.321    -.0079432     .024234
     event_7 |   .0095522   .0089072     1.07   0.284    -.0079056    .0270099
     event_8 |   .0036131   .0095306     0.38   0.705    -.0150665    .0222928
     event_9 |   .0127839   .0106509     1.20   0.230    -.0080915    .0336592
    event_10 |   .0097337    .010026     0.97   0.332     -.009917    .0293843
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |   .1081932   .0391269     2.77   0.006     .0315059    .1848806
    event_m4 |   .0899051   .0395878     2.27   0.023     .0123145    .1674957
    event_m3 |   .0278888    .030442     0.92   0.360    -.0317765     .087554
    event_m2 |  -.0256835   .0342175    -0.75   0.453    -.0927486    .0413816
    event_m1 |  -.0101763   .0294004    -0.35   0.729       -.0678    .0474475
     event_1 |    .071405   .0260119     2.75   0.006     .0204227    .1223873
     event_2 |   .1181396   .0305721     3.86   0.000     .0582194    .1780598
     event_3 |   .1419467   .0302688     4.69   0.000     .0826209    .2012726
     event_4 |   .1114049   .0351836     3.17   0.002     .0424462    .1803636
     event_5 |   .0743011   .0406948     1.83   0.068    -.0054592    .1540615
     event_6 |   .1187195   .0387724     3.06   0.002     .0427271    .1947119
     event_7 |   .0897196   .0385985     2.32   0.020      .014068    .1653713
     event_8 |   .0619548   .0443723     1.40   0.163    -.0250132    .1489228
     event_9 |   .0621035    .042875     1.45   0.147    -.0219299    .1461369
    event_10 |   .0761847   .0474593     1.61   0.108    -.0168338    .1692032
------------------------------------------------------------------------------
  14,263

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-
> ", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(
> none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /Users/koren/Documents/expat-geneva//output/figure/event_study/expat_hire_
> lnL.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/expat_hire_
> lnQL.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/expat_hire_
> lnK.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/expat_hire_
> exporter.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/expat_hire_
> RperK.png written in PNG format
file /Users/koren/Documents/expat-geneva//output/figure/event_study/expat_hire_
> TFP_cd.png written in PNG format

. 
. /*esttab m* using "`here'/output/.tex", mtitle b(3) se(3) replace
> esttab m* using "`here'/output/table_attgt.txt", mtitle b(3) se(3) replace*/
. 
. log close
      name:  <unnamed>
       log:  /Users/koren/Documents/expat-geneva//output/event_studies.log
  log type:  text
 closed on:   7 May 2022, 08:52:34
-------------------------------------------------------------------------------
