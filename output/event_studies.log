--------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/event_studies.log
  log type:  text
 opened on:   5 Apr 2022, 05:36:20

. 
. local pre 5

. local post 10

. local vars lnL lnQL lnK exporter RperK TFP_cd

. local controls lnQ lnL exporter

. 
. use "`here'/temp/analysis_sample.dta", clear

. keep if ever_foreign
(0 observations deleted)

. 
. count
  11,501

. 
. rename has_expat_ceo expat_hire

. generate local_hire = foreign_hire & !expat_hire

. generate no_hire = foreign & !foreign_hire

. 
. 
. foreach treatment in no_hire local_hire expat_hire {
  2.     attgt `vars', treatment(`treatment') aggregate(e) pre(`pre') post(`post') notyet limitcontrol(foreign == 0) ipw(`controls')
  3.     count if e(sample) == 1
  4.     do "`here'/code/util/event_study_plot.do"
  5.     foreach outcome in `vars' {
  6.         graph display `outcome'
  7.         graph export "`here'/output/figure/event_study/`treatment'_`outcome'.png", replace
  8.         graph drop `outcome'
  9.     }
 10. }

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0043917       2.92e-06
 5%     .0154179        .000016
10%      .023593       .0000407       Obs              11,501
25%     .0438395        .000054       Sum of wgt.      11,501

50%     .1569019                      Mean           .5055185
                        Largest       Std. dev.      .4742718
75%            1       1.760909
90%            1       2.654515       Variance       .2249337
95%            1       4.643382       Skewness       .2755975
99%            1       5.773894       Kurtosis       2.863282
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                         Number of obs = 7,828

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |  -.0017432   .1427944    -0.01   0.990     -.281615    .2781286
    event_m4 |  -.0462776   .1171585    -0.40   0.693     -.275904    .1833487
    event_m3 |   -.008761    .098586    -0.09   0.929    -.2019861    .1844641
    event_m2 |   .0092086   .0812325     0.11   0.910    -.1500043    .1684214
    event_m1 |  -.1710621   .0727562    -2.35   0.019    -.3136616   -.0284626
     event_1 |   .0397547   .0645841     0.62   0.538    -.0868277    .1663372
     event_2 |    .101908   .0799329     1.27   0.202    -.0547576    .2585735
     event_3 |   .1293706   .0935214     1.38   0.167     -.053928    .3126692
     event_4 |   .2615134   .1055514     2.48   0.013     .0546363    .4683904
     event_5 |   .2441644   .1297329     1.88   0.060    -.0101075    .4984363
     event_6 |   .2910394   .1430913     2.03   0.042     .0105856    .5714932
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |  -.0050158   .2762918    -0.02   0.986    -.5465378    .5365062
    event_m4 |  -.0449299   .2115984    -0.21   0.832    -.4596552    .3697954
    event_m3 |  -.1381415   .1733498    -0.80   0.426    -.4779008    .2016178
    event_m2 |  -.2070017   .1531854    -1.35   0.177    -.5072394    .0932361
    event_m1 |   .0112224   .1321491     0.08   0.932    -.2477851      .27023
     event_1 |   .1977412   .1213954     1.63   0.103    -.0401895    .4356718
     event_2 |   .1424992   .1549306     0.92   0.358    -.1611592    .4461576
     event_3 |   .0242059   .1699213     0.14   0.887    -.3088337    .3572456
     event_4 |   .1221604   .2065874     0.59   0.554    -.2827435    .5270643
     event_5 |   .2059653   .2379218     0.87   0.387     -.260353    .6722835
     event_6 |   .0251387   .2617833     0.10   0.923    -.4879473    .5382246
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |     .00735   .3111997     0.02   0.981    -.6025903    .6172903
    event_m4 |  -.1920981   .2729566    -0.70   0.482    -.7270833    .3428871
    event_m3 |  -.1505071   .2138658    -0.70   0.482    -.5696765    .2686622
    event_m2 |  -.1624641   .1765509    -0.92   0.357    -.5084975    .1835692
    event_m1 |  -.1229405   .1565289    -0.79   0.432    -.4297315    .1838504
     event_1 |    .138008   .1461007     0.94   0.345    -.1483441      .42436
     event_2 |   .1019918   .1793493     0.57   0.570    -.2495263      .45351
     event_3 |   .1244401   .2100303     0.59   0.554    -.2872116    .5360919
     event_4 |   .2575567   .2293982     1.12   0.262    -.1920554    .7071688
     event_5 |   .2619631   .2618923     1.00   0.317    -.2513364    .7752626
     event_6 |   .1003589   .2777409     0.36   0.718    -.4440033     .644721
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |  -.0585208   .0380197    -1.54   0.124     -.133038    .0159964
    event_m4 |  -.0546006   .0332067    -1.64   0.100    -.1196846    .0104834
    event_m3 |  -.0552341   .0324402    -1.70   0.089    -.1188157    .0083476
    event_m2 |   .0089704   .0274747     0.33   0.744    -.0448789    .0628197
    event_m1 |  -.0558471   .0223565    -2.50   0.012     -.099665   -.0120291
     event_1 |   .0423107   .0193549     2.19   0.029     .0043757    .0802457
     event_2 |   .0226066    .025001     0.90   0.366    -.0263944    .0716076
     event_3 |   .0022764   .0304179     0.07   0.940    -.0573416    .0618944
     event_4 |  -.0071962    .036329    -0.20   0.843    -.0783998    .0640073
     event_5 |   .0531373   .0439147     1.21   0.226     -.032934    .1392086
     event_6 |   .0047476   .0443176     0.11   0.915    -.0821132    .0916085
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |   .0019721   .0101539     0.19   0.846    -.0179292    .0218734
    event_m4 |  -.0025239   .0107597    -0.23   0.815    -.0236125    .0185648
    event_m3 |  -.0078214    .009615    -0.81   0.416    -.0266665    .0110237
    event_m2 |  -.0089062   .0083013    -1.07   0.283    -.0251765    .0073642
    event_m1 |  -.0084225    .004396    -1.92   0.055    -.0170385    .0001935
     event_1 |   .0082397   .0049468     1.67   0.096    -.0014559    .0179352
     event_2 |   .0080031   .0065306     1.23   0.220    -.0047967    .0208029
     event_3 |   .0087659   .0104436     0.84   0.401    -.0117032     .029235
     event_4 |   .0134074   .0101449     1.32   0.186    -.0064762     .033291
     event_5 |   .0156829    .011809     1.33   0.184    -.0074624    .0388281
     event_6 |   .0320729   .0176141     1.82   0.069    -.0024502     .066596
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |   .0829026   .0502607     1.65   0.099    -.0156065    .1814117
    event_m4 |   .0229491   .0326492     0.70   0.482    -.0410422    .0869403
    event_m3 |   .0226345   .0294231     0.77   0.442    -.0350338    .0803027
    event_m2 |  -.0733384   .0450557    -1.63   0.104    -.1616458    .0149691
    event_m1 |   .0386381   .0274969     1.41   0.160    -.0152548     .092531
     event_1 |   .0176069   .0235519     0.75   0.455     -.028554    .0637678
     event_2 |   .0165257   .0310049     0.53   0.594    -.0442429    .0772942
     event_3 |  -.0181288   .0361688    -0.50   0.616    -.0890184    .0527607
     event_4 |  -.0384301   .0523849    -0.73   0.463    -.1411025    .0642424
     event_5 |  -.0527327   .0607911    -0.87   0.386    -.1718811    .0664158
     event_6 |   -.098259   .0655058    -1.50   0.134     -.226648      .03013
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
------------------------------------------------------------------------------
  7,828

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/no_hire_lnL.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/no_hire_lnQL.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/no_hire_lnK.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/no_hire_exporter.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/no_hire_RperK.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/no_hire_TFP_cd.png saved as PNG format

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0033798              0
 5%     .0081896              0
10%     .0129265              0       Obs              11,501
25%     .0291374       4.79e-27       Sum of wgt.      11,501

50%     .1092495                      Mean           .4829258
                        Largest       Std. dev.      .4774577
75%            1              1
90%            1              1       Variance       .2279658
95%            1              1       Skewness       .1521462
99%            1              1       Kurtosis       1.036416
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                         Number of obs = 7,537

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |   .2990995   .1915726     1.56   0.118    -.0763759    .6745749
    event_m4 |   .1911525   .1458125     1.31   0.190    -.0946349    .4769398
    event_m3 |   .2807065   .1227859     2.29   0.022     .0400505    .5213625
    event_m2 |   .2601636   .1092399     2.38   0.017     .0460573      .47427
    event_m1 |   .0260906   .0628834     0.41   0.678    -.0971586    .1493397
     event_1 |   .2143193   .0906522     2.36   0.018     .0366442    .3919945
     event_2 |   .1831743   .1063377     1.72   0.085    -.0252438    .3915924
     event_3 |    .228288   .1234616     1.85   0.064    -.0136922    .4702683
     event_4 |   .2480941   .1414908     1.75   0.080    -.0292227     .525411
     event_5 |    .170997   .1468319     1.16   0.244    -.1167882    .4587821
     event_6 |   .0605006   .1611198     0.38   0.707    -.2552883    .3762896
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |   .1655315   .2892771     0.57   0.567    -.4014413    .7325042
    event_m4 |    .228992    .203069     1.13   0.259    -.1690158    .6269999
    event_m3 |    .152932   .1694188     0.90   0.367    -.1791228    .4849867
    event_m2 |   .0043141   .1606687     0.03   0.979    -.3105908     .319219
    event_m1 |  -.1561171   .1625423    -0.96   0.337    -.4746941    .1624598
     event_1 |  -.0208863    .172111    -0.12   0.903    -.3582177     .316445
     event_2 |   .0104795   .1936651     0.05   0.957     -.369097    .3900561
     event_3 |  -.0403673   .2127499    -0.19   0.850    -.4573494    .3766149
     event_4 |  -.0882249   .2237462    -0.39   0.693    -.5267593    .3503095
     event_5 |  -.1719327   .2131567    -0.81   0.420    -.5897121    .2458466
     event_6 |  -.0913186   .2409871    -0.38   0.705    -.5636447    .3810075
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |   .4562641   .3749925     1.22   0.224    -.2787077    1.191236
    event_m4 |   .3704284    .264797     1.40   0.162    -.1485642     .889421
    event_m3 |   .3530638   .2265932     1.56   0.119    -.0910506    .7971783
    event_m2 |   .3208533   .1901382     1.69   0.092    -.0518108    .6935173
    event_m1 |  -.0070273   .1624429    -0.04   0.965    -.3254096    .3113549
     event_1 |   .1706364   .1979175     0.86   0.389    -.2172747    .5585475
     event_2 |   .0797502   .2190446     0.36   0.716    -.3495693    .5090697
     event_3 |   .0357892   .2583168     0.14   0.890    -.4705024    .5420809
     event_4 |  -.0672245   .2911496    -0.23   0.817    -.6378673    .5034182
     event_5 |  -.1848346   .2792844    -0.66   0.508    -.7322219    .3625527
     event_6 |  -.3303127   .2928554    -1.13   0.259    -.9042987    .2436733
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |  -.0450275   .0504451    -0.89   0.372     -.143898    .0538431
    event_m4 |  -.0649384   .0465424    -1.40   0.163    -.1561597     .026283
    event_m3 |  -.0411504   .0414192    -0.99   0.320    -.1223305    .0400298
    event_m2 |  -.0522183    .037525    -1.39   0.164     -.125766    .0213294
    event_m1 |  -.0573723   .0330434    -1.74   0.083    -.1221362    .0073915
     event_1 |   .1012985   .0271875     3.73   0.000      .048012    .1545851
     event_2 |   .0685131   .0300042     2.28   0.022     .0097059    .1273202
     event_3 |   .1065689    .034516     3.09   0.002     .0389188     .174219
     event_4 |   .0556877   .0369464     1.51   0.132     -.016726    .1281015
     event_5 |   .0769526   .0403263     1.91   0.056    -.0020855    .1559907
     event_6 |   .0423617   .0496602     0.85   0.394    -.0549706     .139694
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |   .0222217   .0175448     1.27   0.205    -.0121654    .0566088
    event_m4 |   .0025179   .0118924     0.21   0.832    -.0207909    .0258266
    event_m3 |  -.0037763   .0093724    -0.40   0.687     -.022146    .0145933
    event_m2 |  -.0082235   .0066856    -1.23   0.219     -.021327    .0048799
    event_m1 |   .0119484   .0082626     1.45   0.148    -.0042459    .0281428
     event_1 |   .0035108   .0048931     0.72   0.473    -.0060796    .0131011
     event_2 |   .0147971    .008757     1.69   0.091    -.0023663    .0319606
     event_3 |   .0064646   .0093555     0.69   0.490    -.0118717     .024801
     event_4 |    .001824   .0099238     0.18   0.854    -.0176264    .0212743
     event_5 |  -.0068027   .0102955    -0.66   0.509    -.0269815    .0133762
     event_6 |  -.0031884   .0109705    -0.29   0.771    -.0246901    .0183134
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |   .1093003   .0470315     2.32   0.020     .0171203    .2014804
    event_m4 |   .1188348   .0497531     2.39   0.017     .0213206    .2163491
    event_m3 |   .0517695   .0375193     1.38   0.168    -.0217669    .1253059
    event_m2 |  -.0520553   .0437784    -1.19   0.234    -.1378593    .0337487
    event_m1 |  -.0634856   .0360157    -1.76   0.078     -.134075    .0071037
     event_1 |   .0110298    .040529     0.27   0.786    -.0684055    .0904651
     event_2 |   .0166476   .0425636     0.39   0.696    -.0667756    .1000708
     event_3 |   .0262521   .0417361     0.63   0.529    -.0555492    .1080534
     event_4 |  -.0363987   .0451336    -0.81   0.420    -.1248589    .0520615
     event_5 |  -.0813339   .0526228    -1.55   0.122    -.1844727    .0218048
     event_6 |    -.09381   .0581572    -1.61   0.107    -.2077961    .0201761
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
------------------------------------------------------------------------------
  7,537

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/local_hire_lnL.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/local_hire_lnQL.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/local_hire_lnK.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/local_hire_exporter.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/local_hire_RperK.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/local_hire_TFP_cd.png saved as PNG format

Panel variable: frame_id_numeric (unbalanced)
 Time variable: year, 1985 to 2018, but with gaps
         Delta: 1 unit
Generating weights...

                          __000001
-------------------------------------------------------------
      Percentiles      Smallest
 1%     .0102573       .0002176
 5%     .0188027       .0011793
10%     .0254697       .0016164       Obs              11,501
25%     .0453692       .0018648       Sum of wgt.      11,501

50%     .1653109                      Mean           .5037127
                        Largest       Std. dev.      .4688863
75%            1              1
90%            1              1       Variance       .2198544
95%            1              1       Skewness       .1015058
99%            1              1       Kurtosis       1.031162
Estimating lnL: event_m5
Estimating lnL: event_m4
Estimating lnL: event_m3
Estimating lnL: event_m2
Estimating lnL: event_m1
Estimating lnL: event_1
Estimating lnL: event_2
Estimating lnL: event_3
Estimating lnL: event_4
Estimating lnL: event_5
Estimating lnL: event_6
Estimating lnL: event_7
Estimating lnL: event_8
Estimating lnL: event_9
Estimating lnL: event_10
Estimating lnQL: event_m5
Estimating lnQL: event_m4
Estimating lnQL: event_m3
Estimating lnQL: event_m2
Estimating lnQL: event_m1
Estimating lnQL: event_1
Estimating lnQL: event_2
Estimating lnQL: event_3
Estimating lnQL: event_4
Estimating lnQL: event_5
Estimating lnQL: event_6
Estimating lnQL: event_7
Estimating lnQL: event_8
Estimating lnQL: event_9
Estimating lnQL: event_10
Estimating lnK: event_m5
Estimating lnK: event_m4
Estimating lnK: event_m3
Estimating lnK: event_m2
Estimating lnK: event_m1
Estimating lnK: event_1
Estimating lnK: event_2
Estimating lnK: event_3
Estimating lnK: event_4
Estimating lnK: event_5
Estimating lnK: event_6
Estimating lnK: event_7
Estimating lnK: event_8
Estimating lnK: event_9
Estimating lnK: event_10
Estimating exporter: event_m5
Estimating exporter: event_m4
Estimating exporter: event_m3
Estimating exporter: event_m2
Estimating exporter: event_m1
Estimating exporter: event_1
Estimating exporter: event_2
Estimating exporter: event_3
Estimating exporter: event_4
Estimating exporter: event_5
Estimating exporter: event_6
Estimating exporter: event_7
Estimating exporter: event_8
Estimating exporter: event_9
Estimating exporter: event_10
Estimating RperK: event_m5
Estimating RperK: event_m4
Estimating RperK: event_m3
Estimating RperK: event_m2
Estimating RperK: event_m1
Estimating RperK: event_1
Estimating RperK: event_2
Estimating RperK: event_3
Estimating RperK: event_4
Estimating RperK: event_5
Estimating RperK: event_6
Estimating RperK: event_7
Estimating RperK: event_8
Estimating RperK: event_9
Estimating RperK: event_10
Estimating TFP_cd: event_m5
Estimating TFP_cd: event_m4
Estimating TFP_cd: event_m3
Estimating TFP_cd: event_m2
Estimating TFP_cd: event_m1
Estimating TFP_cd: event_1
Estimating TFP_cd: event_2
Estimating TFP_cd: event_3
Estimating TFP_cd: event_4
Estimating TFP_cd: event_5
Estimating TFP_cd: event_6
Estimating TFP_cd: event_7
Estimating TFP_cd: event_8
Estimating TFP_cd: event_9
Estimating TFP_cd: event_10
Callaway Sant'Anna (2021)

                                                         Number of obs = 8,376

------------------------------------------------------------------------------
             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
-------------+----------------------------------------------------------------
lnL          |
    event_m5 |   .1122549   .1170452     0.96   0.338    -.1171494    .3416592
    event_m4 |   .1069837   .1088396     0.98   0.326     -.106338    .3203054
    event_m3 |   .0799284    .108348     0.74   0.461    -.1324298    .2922866
    event_m2 |   .0276034   .0732561     0.38   0.706     -.115976    .1711828
    event_m1 |   .0061626   .0518367     0.12   0.905    -.0954355    .1077608
     event_1 |   .1101678   .0703049     1.57   0.117    -.0276272    .2479629
     event_2 |   .1597755   .0795172     2.01   0.045     .0039246    .3156264
     event_3 |   .1732975    .094629     1.83   0.067    -.0121719    .3587668
     event_4 |   .2976101   .1024134     2.91   0.004     .0968836    .4983366
     event_5 |   .2918053   .1178823     2.48   0.013     .0607603    .5228504
     event_6 |     .35212   .1284392     2.74   0.006     .1003837    .6038563
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
lnQL         |
    event_m5 |   .2339634   .1751606     1.34   0.182    -.1093451    .5772719
    event_m4 |   .1905128   .1523575     1.25   0.211    -.1081025     .489128
    event_m3 |   .0636936   .1476245     0.43   0.666    -.2256451    .3530323
    event_m2 |   .1498865   .1165598     1.29   0.198    -.0785665    .3783394
    event_m1 |   .0062872   .1031201     0.06   0.951    -.1958246    .2083989
     event_1 |   .0735657   .1289424     0.57   0.568    -.1791568    .3262883
     event_2 |   .2346563   .1493915     1.57   0.116    -.0581457    .5274584
     event_3 |   .2636336   .1658799     1.59   0.112     -.061485    .5887521
     event_4 |   .2624992     .17318     1.52   0.130    -.0769274    .6019258
     event_5 |   .2278521   .1740622     1.31   0.191    -.1133035    .5690077
     event_6 |   .2984684   .1779826     1.68   0.094    -.0503712     .647308
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
lnK          |
    event_m5 |   .2923641   .2374265     1.23   0.218    -.1729833    .7577115
    event_m4 |   .3100188   .2157622     1.44   0.151    -.1128674     .732905
    event_m3 |   .1648194   .2143912     0.77   0.442    -.2553796    .5850183
    event_m2 |   .1482391   .1517738     0.98   0.329    -.1492321    .4457104
    event_m1 |   .0428118   .1265582     0.34   0.735    -.2052377    .2908613
     event_1 |   .0919826     .16023     0.57   0.566    -.2220624    .4060276
     event_2 |   .1867349   .1861909     1.00   0.316    -.1781927    .5516624
     event_3 |   .1507465   .2073996     0.73   0.467    -.2557493    .5572423
     event_4 |    .238594   .2163509     1.10   0.270    -.1854459    .6626339
     event_5 |   .2542012   .2308363     1.10   0.271    -.1982297     .706632
     event_6 |   .3508703   .2452131     1.43   0.152    -.1297385    .8314792
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
exporter     |
    event_m5 |   .0134849    .039193     0.34   0.731    -.0633319    .0903018
    event_m4 |  -.0491463   .0384176    -1.28   0.201    -.1244435    .0261509
    event_m3 |   .0297319    .032618     0.91   0.362    -.0341981     .093662
    event_m2 |  -.0235902   .0314007    -0.75   0.452    -.0851344    .0379541
    event_m1 |  -.0056228   .0252424    -0.22   0.824    -.0550969    .0438513
     event_1 |    .145976   .0226751     6.44   0.000     .1015336    .1904184
     event_2 |   .1562926   .0274924     5.68   0.000     .1024085    .2101766
     event_3 |   .1524463   .0312557     4.88   0.000     .0911863    .2137063
     event_4 |   .1837813   .0348449     5.27   0.000     .1154865     .252076
     event_5 |   .1796268   .0392044     4.58   0.000     .1027876    .2564661
     event_6 |   .1809582   .0395768     4.57   0.000     .1033891    .2585273
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
RperK        |
    event_m5 |  -.0007836   .0070952    -0.11   0.912      -.01469    .0131228
    event_m4 |   .0063818   .0091039     0.70   0.483    -.0114615    .0242252
    event_m3 |  -.0038226   .0092804    -0.41   0.680    -.0220118    .0143666
    event_m2 |  -.0052568   .0068286    -0.77   0.441    -.0186407    .0081271
    event_m1 |   .0014111   .0041459     0.34   0.734    -.0067147     .009537
     event_1 |   .0120361    .005569     2.16   0.031      .001121    .0229512
     event_2 |   .0115074    .007108     1.62   0.105     -.002424    .0254388
     event_3 |   .0142359   .0084168     1.69   0.091    -.0022607    .0307325
     event_4 |   .0099833   .0090919     1.10   0.272    -.0078364    .0278031
     event_5 |   .0057932   .0093766     0.62   0.537    -.0125847    .0241711
     event_6 |   .0055842   .0095313     0.59   0.558    -.0130968    .0242652
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
-------------+----------------------------------------------------------------
TFP_cd       |
    event_m5 |   .0843103   .0485962     1.73   0.083    -.0109366    .1795571
    event_m4 |   .0898931    .037832     2.38   0.017     .0157438    .1640424
    event_m3 |    .061235   .0392047     1.56   0.118    -.0156048    .1380747
    event_m2 |   .0440989   .0298002     1.48   0.139    -.0143083    .1025062
    event_m1 |   .0231664   .0370167     0.63   0.531     -.049385    .0957179
     event_1 |   .0483882   .0339698     1.42   0.154    -.0181915    .1149678
     event_2 |   .0643935   .0396145     1.63   0.104    -.0132495    .1420365
     event_3 |   .0904164   .0405097     2.23   0.026     .0110188     .169814
     event_4 |   .0935134   .0469197     1.99   0.046     .0015525    .1854744
     event_5 |   .0835207   .0465174     1.80   0.073    -.0076518    .1746931
     event_6 |   .0645055   .0451258     1.43   0.153    -.0239394    .1529504
     event_7 |          0  (omitted)
     event_8 |          0  (omitted)
     event_9 |          0  (omitted)
    event_10 |          0  (omitted)
------------------------------------------------------------------------------
  8,376

. * assume attgt estimate with aggregate(e) option has been recently produced
. preserve

. clear

. 
. local Z 1.96

. 
. local T = colsof(e(b)) 

. set obs `T'
Number of observations (_N) was 0, now 90.

. 
. generate str outcome = ""
(90 missing values generated)

. generate b = 0

. generate t = 0

. generate upper = 0

. generate lower = 0

. 
. local colnames : colnames e(b)

. local outcomes : coleq e(b)

. local treatment = e(treatment)

. 
. forvalues i = 1/`T' {
  2.     * get event time index
.     local name : word `i' of `colnames'
  3.     local outcome : word `i' of `outcomes'
  4.     replace outcome = "`outcome'" in `i'
  5.     replace t = real(subinstr(subinstr("`name'", "event_", "", .), "m", "-", .)) in `i'
  6.     * get estimates from regression
.     replace b = e(b)[1, `i'] in `i'
  7.     replace upper = b + `Z' * sqrt(e(V)[`i', `i']) in `i'
  8.     replace lower = b - `Z' * sqrt(e(V)[`i', `i']) in `i'
  9. }
variable outcome was str1 now str3
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
variable outcome was str3 now str4
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
variable outcome was str4 now str8
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(1 real change made)
(1 real change made)
(0 real changes made)
(0 real changes made)
(0 real changes made)

. * create period 0 for every outcome
. expand 1+(t==1), generate(expanded)
(6 observations created)

. foreach X in t b upper lower {
  2.     replace `X' = 0 if expanded
  3. }
(6 real changes made)
(6 real changes made)
(6 real changes made)
(6 real changes made)

. sort outcome t

. 
. levelsof outcome, local(outcomes)
`"RperK"' `"TFP_cd"' `"exporter"' `"lnK"' `"lnL"' `"lnQL"'

. foreach X in `outcomes' {
  2.     twoway (rarea lower upper t if outcome=="`X'", fcolor(blue%30) lwidth(none)) ///
>         (line b t if outcome=="`X'", lcolor(blue)), ///
>         ytitle("`X'") xtitle("Year since `treatment'") ///
>         graphregion(color(white)) legend(off)
  3.     graph rename `X'
  4. }

. restore

. 
end of do-file
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/expat_hire_lnL.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/expat_hire_lnQL.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/expat_hire_lnK.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/expat_hire_exporter.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/expat_hire_RperK.png saved as PNG format
file /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/figure/event_study/expat_hire_TFP_cd.png saved as PNG format

. 
. /*esttab m* using "`here'/output/.tex", mtitle b(3) se(3) replace
> esttab m* using "`here'/output/table_attgt.txt", mtitle b(3) se(3) replace*/
. 
. log close
      name:  <unnamed>
       log:  /srv/sandbox/zavecz/dropbox_encrypted/darthmouth/expat-analysis//output/event_studies.log
  log type:  text
 closed on:   5 Apr 2022, 05:45:08
--------------------------------------------------------------------------------------------------------------------------------------------------------------
